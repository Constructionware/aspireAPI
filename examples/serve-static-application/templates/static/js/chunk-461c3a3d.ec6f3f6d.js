(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-461c3a3d"],{"008f":function(t,e,a){"use strict";var r=a("9798"),i=a.n(r);i.a},"0dfb":function(t,e,a){},1148:function(t,e,a){"use strict";var r=a("a691"),i=a("1d80");t.exports="".repeat||function(t){var e=String(i(this)),a="",n=r(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(a+=e);return a}},1276:function(t,e,a){"use strict";var r=a("d784"),i=a("44e7"),n=a("825a"),o=a("1d80"),l=a("4840"),s=a("8aa5"),u=a("50c4"),c=a("14c3"),m=a("9263"),p=a("d039"),d=[].push,b=Math.min,g=4294967295,v=!p((function(){return!RegExp(g,"y")}));r("split",2,(function(t,e,a){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var r=String(o(this)),n=void 0===a?g:a>>>0;if(0===n)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,n);var l,s,u,c=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),b=0,v=new RegExp(t.source,p+"g");while(l=m.call(v,r)){if(s=v.lastIndex,s>b&&(c.push(r.slice(b,l.index)),l.length>1&&l.index<r.length&&d.apply(c,l.slice(1)),u=l[0].length,b=s,c.length>=n))break;v.lastIndex===l.index&&v.lastIndex++}return b===r.length?!u&&v.test("")||c.push(""):c.push(r.slice(b)),c.length>n?c.slice(0,n):c}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var i=o(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,i,a):r.call(String(i),e,a)},function(t,i){var o=a(r,t,this,i,r!==e);if(o.done)return o.value;var m=n(t),p=String(this),d=l(m,RegExp),f=m.unicode,y=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.unicode?"u":"")+(v?"y":"g"),x=new d(v?m:"^(?:"+m.source+")",y),h=void 0===i?g:i>>>0;if(0===h)return[];if(0===p.length)return null===c(x,p)?[p]:[];var _=0,w=0,C=[];while(w<p.length){x.lastIndex=v?w:0;var k,j=c(x,v?p:p.slice(w));if(null===j||(k=b(u(x.lastIndex+(v?0:w)),p.length))===_)w=s(p,w,f);else{if(C.push(p.slice(_,w)),C.length===h)return C;for(var $=1;$<=j.length-1;$++)if(C.push(j[$]),C.length===h)return C;w=_=k}}return C.push(p.slice(_)),C}]}),!v)},"13d5":function(t,e,a){"use strict";var r=a("23e7"),i=a("d58f").left,n=a("a640"),o=a("ae40"),l=n("reduce"),s=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!l||!s},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(t,e,a){var r=a("c6b6"),i=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var n=a.call(t,e);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},1920:function(t,e,a){"use strict";var r=a("a2e5"),i=a.n(r);i.a},2532:function(t,e,a){"use strict";var r=a("23e7"),i=a("5a34"),n=a("1d80"),o=a("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(n(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"33da":function(t,e,a){},"408a":function(t,e,a){var r=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"4df4":function(t,e,a){"use strict";var r=a("0366"),i=a("7b0b"),n=a("9bdd"),o=a("e95a"),l=a("50c4"),s=a("8418"),u=a("35a1");t.exports=function(t){var e,a,c,m,p,d,b=i(t),g="function"==typeof this?this:Array,v=arguments.length,f=v>1?arguments[1]:void 0,y=void 0!==f,x=u(b),h=0;if(y&&(f=r(f,v>2?arguments[2]:void 0,2)),void 0==x||g==Array&&o(x))for(e=l(b.length),a=new g(e);e>h;h++)d=y?f(b[h],h):b[h],s(a,h,d);else for(m=x.call(b),p=m.next,a=new g;!(c=p.call(m)).done;h++)d=y?n(m,f,[c.value,h],!0):c.value,s(a,h,d);return a.length=h,a}},5031:function(t,e,a){},5319:function(t,e,a){"use strict";var r=a("d784"),i=a("825a"),n=a("7b0b"),o=a("50c4"),l=a("a691"),s=a("1d80"),u=a("8aa5"),c=a("14c3"),m=Math.max,p=Math.min,d=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,a,r){var f=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,x=f?"$":"$0";return[function(a,r){var i=s(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,i,r):e.call(String(i),a,r)},function(t,r){if(!f&&y||"string"===typeof r&&-1===r.indexOf(x)){var n=a(e,t,this,r);if(n.done)return n.value}var s=i(t),d=String(this),b="function"===typeof r;b||(r=String(r));var g=s.global;if(g){var _=s.unicode;s.lastIndex=0}var w=[];while(1){var C=c(s,d);if(null===C)break;if(w.push(C),!g)break;var k=String(C[0]);""===k&&(s.lastIndex=u(d,o(s.lastIndex),_))}for(var j="",$=0,P=0;P<w.length;P++){C=w[P];for(var A=String(C[0]),E=m(p(l(C.index),d.length),0),F=[],q=1;q<C.length;q++)F.push(v(C[q]));var R=C.groups;if(b){var N=[A].concat(F,E,d);void 0!==R&&N.push(R);var S=String(r.apply(void 0,N))}else S=h(A,d,E,F,R,r);E>=$&&(j+=d.slice($,E)+S,$=E+A.length)}return j+d.slice($)}];function h(t,a,r,i,o,l){var s=r+t.length,u=i.length,c=g;return void 0!==o&&(o=n(o),c=b),e.call(l,c,(function(e,n){var l;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,r);case"'":return a.slice(s);case"<":l=o[n.slice(1,-1)];break;default:var c=+n;if(0===c)return e;if(c>u){var m=d(c/10);return 0===m?e:m<=u?void 0===i[m-1]?n.charAt(1):i[m-1]+n.charAt(1):e}l=i[c-1]}return void 0===l?"":l}))}}))},"5d23":function(t,e,a){},"72f7":function(t,e,a){},"7f88":function(t,e,a){},"8aa5":function(t,e,a){"use strict";var r=a("6547").charAt;t.exports=function(t,e,a){return e+(a?r(t,e).length:1)}},9263:function(t,e,a){"use strict";var r=a("ad6d"),i=a("9f7f"),n=RegExp.prototype.exec,o=String.prototype.replace,l=n,s=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,c=void 0!==/()??/.exec("")[1],m=s||c||u;m&&(l=function(t){var e,a,i,l,m=this,p=u&&m.sticky,d=r.call(m),b=m.source,g=0,v=t;return p&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),v=String(t).slice(m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==t[m.lastIndex-1])&&(b="(?: "+b+")",v=" "+v,g++),a=new RegExp("^(?:"+b+")",d)),c&&(a=new RegExp("^"+b+"$(?!\\s)",d)),s&&(e=m.lastIndex),i=n.call(p?a:m,v),p?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=m.lastIndex,m.lastIndex+=i[0].length):m.lastIndex=0:s&&i&&(m.lastIndex=m.global?i.index+i[0].length:e),c&&i&&i.length>1&&o.call(i[0],a,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(i[l]=void 0)})),i}),t.exports=l},9593:function(t,e,a){"use strict";var r=a("5031"),i=a.n(r);i.a},9798:function(t,e,a){},"9c92":function(t,e,a){a("fb6a");var r=function(t,e){var a=t.charAt(0),r=e.charAt(0),i="",n="",o=0;for(i=i+a.toUpperCase()+r.toUpperCase(),o;o<4;o++)n+=Math.floor(10*Math.random()+1);return i+n},i=function(t,e){var a=t.slice(0,3),r="",i="",n=0;for(r+=a.toUpperCase(),n;n<4;n++)i+=Math.floor(10*Math.random()+1);return r+i};t.exports={genniv:i,genny:r}},"9f7f":function(t,e,a){"use strict";var r=a("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a019:function(t,e,a){},a07f:function(t,e,a){"use strict";var r=a("ae96"),i=a.n(r);i.a},a0a5:function(t,e,a){},a118:function(t,e,a){"use strict";var r=a("7f88"),i=a.n(r);i.a},a2e5:function(t,e,a){},a630:function(t,e,a){var r=a("23e7"),i=a("4df4"),n=a("1c7e"),o=!n((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:o},{from:i})},ac1f:function(t,e,a){"use strict";var r=a("23e7"),i=a("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ae96:function(t,e,a){},afc5:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home flex flex-row"},[a("div",{staticClass:"card bg-gray-100 flex flex-col border border-gray-400 p-5 w-1/4 h-3/4 rounded-md overflow-y-auto"},[a("div",{staticClass:"pnl-left flex flex-col"},[a("div",{staticClass:"w-full flex flex-wrap"},[a("div",{staticClass:"w-20 h-12 bg-teal-800 text-gray-200 text-xs text-center cursor-pointer m-2",on:{click:function(e){return t.manageConsole("foundation")}}},[t._v("FOUNDATION")]),a("div",[a("p",{staticClass:"w-20 h-12 bg-purple-800 text-gray-200 text-xs text-center m-2 cursor-pointer",on:{click:function(e){return t.manageConsole("wall")}}},[t._v("WALL")])]),a("div",[a("p",{staticClass:"w-20 h-12 bg-blue-800 text-gray-200 text-xs text-center m-2 cursor-pointer",on:{click:function(e){return t.manageConsole("beam")}}},[t._v("BEAM")])]),a("div",[a("p",{staticClass:"w-20 h-12 bg-gray-800 text-gray-200 text-xs text-center cursor-pointer m-2",on:{click:function(e){return t.manageConsole("slab")}}},[t._v("SLAB")])]),a("div",[a("p",{staticClass:"w-20 h-12 bg-green-800 text-gray-200 text-xs text-center cursor-pointer m-2",on:{click:function(e){return t.manageConsole("floor")}}},[t._v("FLOOR")])]),a("div",[a("p",{staticClass:"w-20 h-12 bg-green-800 text-gray-200 text-xs text-center cursor-pointer m-2",on:{click:function(e){return t.manageConsole("roof")}}},[t._v("ROOF")])]),t.project.account?t._e():a("div",[a("p",{staticClass:"w-20 h-20 bg-green-600 text-gray-100 text-xs text-center cursor-pointer m-2 rounded",on:{click:function(e){return t.toggleUi("electrical")}}},[t._v("Electrical")])])])]),a("rateTable")],1),a("div",{staticClass:"flex flex-col border border-gray-400 p-2 w-3/4 ml-1 mr-2 mb-2 rounded-md overflow-y-auto"},[t.ui.header?a("p",{staticClass:"bg-gray-200 py-2 px-2 text-gray-700 text-xs w-full rounded-lg shadow mb-5"},[a("button",{staticClass:"hover:bg-gray-400 px-full py-full"},[t._v("Add Item")]),t._v("|")]):t._e(),t.showing?a("div",{staticClass:"overflow-y-auto",attrs:{id:"emodal"}},[a("emodal",{attrs:{showing:t.showing},on:{close:function(e){t.showing=!1}}},[a("p",[t._v("Estimate "+t._s(t.title))]),t.console.foundation?a("foundation",{attrs:{project_id:t.project._id}}):t._e(),t.console.beam?a("beam",{attrs:{project_id:t.project._id}}):t._e(),t.console.column?a("column",{attrs:{project_id:t.project._id}}):t._e(),t.console.slab?a("slab",{attrs:{project_id:t.project._id}}):t._e(),t.console.floor?a("floor",{attrs:{project_id:t.project._id}}):t._e(),t.console.roof?a("roof",{attrs:{project_id:t.project._id}}):t._e(),t.console.wall?a("wallEstimate"):t._e(),a("button",{staticClass:"bg-purple-700 text-white px-2 py-1 my-5 text-sm uppercase tracking-wide font-bold rounded-lg",on:{click:function(e){t.showing=!t.showing}}},[t._v("Close ")])],1)],1):t._e(),0==t.showing?a("div",t._l(t.estimates,(function(e){return a("div",{key:e.id,staticClass:"card bg-white border border-gray-300 rounded-lg p-2"},[a("table",{staticClass:"bg-teal-300 w-full"},[a("caption",[t._v(t._s(e.phase))]),t._m(0,!0),a("tr",[a("td",[t._v(t._s(e.section))]),a("td",[a("tableView",{attrs:{title:"Items",tableData:e.items}})],1)])])])})),0):t._e(),a("div")]),t._v(" "+t._s(t.project._id)+" ")])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("Section")]),a("th",[t._v("Items")])])}],n=(a("ac1f"),a("5319"),a("96cf"),a("1da1")),o=a("5530"),l=a("2f62"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.jobrates?a("div",{attrs:{id:"rate-table"}}):t._e()])},u=[],c=a("39ab"),m=a.n(c),p={name:"rate-table",data:function(){return{table:{nav:{css:"bg-blue-400 text-white p-1 rounded-lg",btn:{css:"bg-blue-400 text-white py-1 px-3 ml-1 rounded-t-lg"}},index:{caption:"Projects Index Table",css:"text-sm text-gray-700 font-semibold text-left px-2 py-1 cursor-pointer",update:!1},data_index:{caption:"Projects Data Index",css:"text-sm text-gray-800 font-semibold text-left px-2 py-1 cursor-pointer",update:!1},location:{caption:"Projects Location Index",css:"text-sm text-gray-800 font-semibold text-left px-2 py-1 cursor-pointer",update:!1},client:{caption:"Projects Clients Index",css:"text-sm text-gray-800 font-semibold text-left px-2 py-1 cursor-pointer",update:!1}},ui:{show:{index_view:!0,table_view:!0}}}},mounted:function(){this.loadProjectTable()},computed:Object(o["a"])({},Object(l["c"])({jobrates:"jobrates"})),methods:Object(o["a"])({},Object(l["b"])({}),{loadProjectTable:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,new m.a("#rate-table",{data:a.jobrates,layout:"fitColumns",pagination:"local",paginationSize:10,paginationButtonCount:3,paginationSizeSelector:!0,columns:[{title:"Id",field:"id",width:80},{title:"Job Category",field:"key.category",width:120},{title:"Description",field:"key.description",width:250}],rowClick:function(t,e){alert("Clone this Rate ?..")}});case 2:case"end":return e.stop()}}),e)})))()},loadDataTable:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,new m.a("#rate-table",{data:a.jobrates,layout:"fitColumns",pagination:"local",paginationSize:10,paginationButtonCount:3,paginationSizeSelector:!0,columns:[{title:"Id",field:"id",width:80},{title:"Category",field:"category",width:150},{title:"Description",field:"description",width:200},{title:"Rate",columns:[{title:"Rate",field:"rate"}]}],rowClick:function(t,e){alert("Clone this Rate ?..")}});case 2:case"end":return e.stop()}}),e)})))()}})},d=p,b=(a("c595"),a("2877")),g=Object(b["a"])(d,s,u,!1,null,null,null),v=g.exports,f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"table-view"}})])}],x={name:"table-view",props:{title:{type:String,required:!0},tableData:{type:Array,required:!0}},data:function(){return{ui:{show:{index_view:!0,table_view:!0}}}},mounted:function(){this.loadDataTable()},methods:{loadDataTable:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,new m.a("#table-view",{tooltips:!0,data:a.tableData,layout:"fitDataFill",responsiveLayout:"hide",pagination:"local",paginationSize:10,paginationButtonCount:3,paginationSizeSelector:!0,columns:[{title:"Item",field:"item_no",width:80},{title:"Title",field:"title",width:120},{title:"Description",field:"description",width:200},{title:"ADO",field:"ado",width:80},{title:"Amount",field:"quantity",width:100},{title:"Unit",field:"unit",width:80},{title:"Rate",field:"rate",width:120,formatter:"money",formatterParams:{symbol:"$"}}],rowClick:function(t,e){alert("Clone this Rate ?..")}});case 2:case"end":return e.stop()}}),e)})))()}}},h=x,_=Object(b["a"])(h,f,y,!1,null,null,null),w=_.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card bg-gray-100 flex flex-col border border-gray-400 p-5 mt-10 w-full h-3/4 rounded-md overflow-y-auto"},[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2"},[a("ul",{staticClass:"card bg-gray-200 p-5 rounded-lg"},[a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold"},[a("caption",[t._v("Construction Wall Estimate")]),t._m(0),a("tr",[a("td",[t._v("Project Phase")]),a("td",[a("div",{staticClass:"flex flex-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.wall.estimate.estimate.phase,expression:"wall.estimate.estimate.phase"}],staticClass:"px-2 ml-2 rounded-l-lg border hover:border-gray-500",attrs:{type:"text"},domProps:{value:t.wall.estimate.estimate.phase},on:{input:function(e){e.target.composing||t.$set(t.wall.estimate.estimate,"phase",e.target.value)}}}),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.wall.estimate.estimate.phase,expression:"wall.estimate.estimate.phase"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-2 px-2 pr-6 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.wall.estimate.estimate,"phase",e.target.multiple?a:a[0])}}},t._l(t.phases,(function(e){return a("option",{key:e.value},[t._v(t._s(e.text))])})),0)])])])]),a("tr",[a("td",[t._v("BQ Section")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.wall.estimate.estimate.section,expression:"wall.estimate.estimate.section"}],attrs:{type:"text"},domProps:{value:t.wall.estimate.estimate.section},on:{input:function(e){e.target.composing||t.$set(t.wall.estimate.estimate,"section",e.target.value)}}})])]),a("tr",[a("td",[t._v("Wall Type")]),a("td",[a("div",{staticClass:"relative",on:{focusout:t.setCategory}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.wall.walltype,expression:"wall.walltype"}],staticClass:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.wall,"walltype",e.target.multiple?a:a[0])}}},t._l(t.wall_types.options,(function(e){return a("option",{key:e.value},[t._v(t._s(e.text))])})),0),a("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[a("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[a("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])])]),t._v(" TAG "+t._s(t.wall.tag)+" ")])]),a("tr",[a("td",[t._v("Category")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.wall.category,expression:"wall.category"}],attrs:{type:"text"},domProps:{value:t.wall.category},on:{input:function(e){e.target.composing||t.$set(t.wall,"category",e.target.value)}}})])]),a("tr",{staticClass:"px-3 mb-6 md:mb-0",on:{focusout:function(e){return t.getRates()}}},[a("td",[t._v("Wall Tag")]),a("td",["Masonry"==t.wall.category?a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.wall.tag,expression:"wall.tag"}],staticClass:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltag"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.wall,"tag",e.target.multiple?a:a[0])}}},t._l(t.masonry_options,(function(e){return a("option",{key:e.value},[t._v(t._s(e.value))])})),0),a("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[a("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[a("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])])]):t._e(),"Drywall"==t.wall.category?a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.wall.tag,expression:"wall.tag"}],staticClass:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.wall,"tag",e.target.multiple?a:a[0])}}},t._l(t.dws_options,(function(e){return a("option",{key:e.value},[t._v(t._s(e.value))])})),0),a("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[a("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[a("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])])]):t._e()])]),a("tr",[a("td",[t._v("Unit")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.wall.unit,expression:"wall.unit"}],attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.wall,"unit",e.target.multiple?a:a[0])}}},[a("option",[t._v("metric")]),a("option",[t._v("imperial")])])])]),a("tr",[a("td",[t._v("Length")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.wall.length,expression:"wall.length"}],attrs:{type:"number"},domProps:{value:t.wall.length},on:{focus:t.setWallThickness,input:function(e){e.target.composing||t.$set(t.wall,"length",e.target.value)}}})])]),a("tr",[a("td",[t._v("Height")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.wall.height,expression:"wall.height"}],attrs:{type:"number"},domProps:{value:t.wall.height},on:{input:function(e){e.target.composing||t.$set(t.wall,"height",e.target.value)}}})])]),a("tr",[a("td",[t._v("Thickness")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.wall.thickness,expression:"wall.thickness"}],attrs:{type:"number"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.wall,"thickness",e.target.multiple?a:a[0])}}},[a("option",[t._v("75")]),a("option",[t._v("100")]),a("option",[t._v("150")]),a("option",[t._v("200")]),a("option",[t._v("250")])]),t._v(" "+t._s(t.wall.thickness)+" ")])])])]),a("li",{staticClass:"p-2 m-1"},[a("button",{staticClass:"bg-blue-700 text-white px-2 py-2 rounded-lg",on:{click:t.processWall}},[t._v("Process Wall")])])])]),a("div",{staticClass:"w-1/2 overflow-y-auto",attrs:{id:"ap-rates"}},[t.wall.rate.rates.length>0?a("div",{staticClass:"card bg-gray-600 text-gray-300 text-xs rounded-lg p-2 m-2"},[a("p",[t._v("Applicable Rates Found ...")]),t._l(t.wall.rate.rates,(function(e){return a("ul",{key:e.id,staticClass:"card bg-gray-200 text-yellow-700 p-5 rounded-lg mb-5"},[a("li",[t._v("ID: "+t._s(e.id))]),a("li",[t._v("Description: "+t._s(e.description))]),a("li",[t._v("Rates: "),t._l(e.rate,(function(e){return a("ul",[a("li",[t._v(t._s(e)+": ")])])}))],2)])}))],2):a("div",[t.wall.tag?a("div",{staticClass:"card bg-gray-600 text-gray-300 text-xs rounded-lg p-2 m-2"},[a("p",[t._v("Apply Your Rate Here...")]),t._v(" Category: "+t._s(t.wall.category)+" "),a("ul",{staticClass:"card bg-gray-200 text-yellow-700 p-5 rounded-lg mb-5"},[a("li",[t._v("Title "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.rate.title,expression:"rate.title"}],attrs:{type:"text"},domProps:{value:t.rate.title},on:{focusout:function(e){t.rate.category=t.wall.category},input:function(e){e.target.composing||t.$set(t.rate,"title",e.target.value)}}})]),a("li",[t._v("Description "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.rate.description,expression:"rate.description"}],attrs:{type:"text"},domProps:{value:t.rate.description},on:{focusout:function(e){return t.rate.tags.push(t.wall.tag)},input:function(e){e.target.composing||t.$set(t.rate,"description",e.target.value)}}})]),a("li",[a("table",[a("caption",[t._v("Imperial Rates")]),t._m(1),a("tr",[a("td",[t._v("ADO")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rate.rate.imperial.ado,expression:"rate.rate.imperial.ado",modifiers:{number:!0}}],staticClass:"w-3/4",attrs:{type:"number"},domProps:{value:t.rate.rate.imperial.ado},on:{input:function(e){e.target.composing||t.$set(t.rate.rate.imperial,"ado",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("tr",[a("td",[t._v("Unt")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.rate.rate.imperial.unit,expression:"rate.rate.imperial.unit"}],attrs:{type:"text"},domProps:{value:t.rate.rate.imperial.unit},on:{input:function(e){e.target.composing||t.$set(t.rate.rate.imperial,"unit",e.target.value)}}})])]),a("tr",[a("td",[t._v("Production")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rate.rate.imperial.production,expression:"rate.rate.imperial.production",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.rate.rate.imperial.production},on:{input:function(e){e.target.composing||t.$set(t.rate.rate.imperial,"production",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("tr",[a("td",[t._v("Total")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rate.rate.imperial.total,expression:"rate.rate.imperial.total",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.rate.rate.imperial.total},on:{input:function(e){e.target.composing||t.$set(t.rate.rate.imperial,"total",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])]),a("li",[a("table",[a("caption",[t._v("Metric Rates")]),t._m(2),a("tr",[a("td",[t._v("ADO")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rate.rate.metric.ado,expression:"rate.rate.metric.ado",modifiers:{number:!0}}],staticClass:"w-3/4",attrs:{type:"number"},domProps:{value:t.rate.rate.metric.ado},on:{input:function(e){e.target.composing||t.$set(t.rate.rate.metric,"ado",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("tr",[a("td",[t._v("Unt")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.rate.rate.metric.unit,expression:"rate.rate.metric.unit"}],attrs:{type:"text"},domProps:{value:t.rate.rate.metric.unit},on:{input:function(e){e.target.composing||t.$set(t.rate.rate.metric,"unit",e.target.value)}}})])]),a("tr",[a("td",[t._v("Production")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rate.rate.metric.production,expression:"rate.rate.metric.production",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.rate.rate.metric.production},on:{input:function(e){e.target.composing||t.$set(t.rate.rate.metric,"production",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("tr",[a("td",[t._v("Total")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rate.rate.metric.total,expression:"rate.rate.metric.total",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.rate.rate.metric.total},on:{input:function(e){e.target.composing||t.$set(t.rate.rate.metric,"total",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])]),a("li",[a("button",{staticClass:"bg-green-500 text-white font-semibold py-1 px-1 rounded mt-5",on:{click:t.applyRate}},[t._v("Apply Rate")])])])]):t._e()])])]),t.wall.rate.applicable.description?a("div",{staticClass:"card bg-gray-600 text-gray-300 text-xs rounded-lg p-2 m-2"},[a("p",[t._v("Applied Rate ...")]),t._v(" "+t._s(t.wall.rate.applicable)+" ")]):t._e(),a("p",{staticClass:"bg-red-500 text-gray-200 text-xs"},[t._v(t._s(t.wall.estimate.estimate))]),t.temp.sections.length>0?a("p",[t._v(t._s(t.temp.sections))]):t._e(),a("P",{staticClass:"bg-teal-600 text-white p-4"},[t._v("BAR WEIGHTS "+t._s(t.barweights))])],1)},k=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])}],j=(a("a4d3"),a("e01a"),a("99af"),a("4160"),a("caad"),a("d3b7"),a("6062"),a("2532"),a("3ca3"),a("159b"),a("ddb0"),a("9c92")),$=a.n(j),P={name:"wall-estimate",data:function(){return{phases:[{value:"prelim",text:"Preliminaries"},{value:"sub",text:"Substructure"}],rate:{_id:null,category:null,title:null,description:null,rate:{imperial:{},metric:{}},tags:[]},rebar:{vbar_spacing:400,vbar_type:"m12",vbar_height:null,hbar_spacing:600,hbar_type:"m10"},frame:{stud_spacing:400,stud_type:"25x50",stud_height:null,track_spacing:600,track_type:"25x50"},wall_types:{selected:"Wall Type",options:[{value:"cmu",text:"BlockWall"},{value:"dws",text:"Drywall"}]},wall:{walltype:"Wall Type",category:null,rate:{applicable:{rate:{imperial:{ado:null,production:null,total:null},metric:{ado:null,production:null,total:null}}},rates:[]},tag:null,unit:"metric",length:null,height:null,thickness:null,estimate:{estimate:{id:null,phase:null,section:null,items:[]},item:{id:null,item_no:null,title:null,description:null,ado:null,quantity:null,unit:null,rate:null,total:null}}},temp:{phases:new Set,sections:new Set}}},computed:Object(o["a"])({},Object(l["c"])({jobrates:"jobrates",estimates:"estimates",cephases:"currentEstimatePhases",cesections:"currentEstimateSections",barweights:"barweights",masonry_options:"masonry_options",dws_options:"dws_options"}),{processCMU:function(){var t=10.7639,e=this.wall.rate.applicable.rate.imperial.ado,a=null,r=this.wall.length*this.wall.height-a,i=r*t,n=this.wall.rate.applicable.rate;n.imperial.quantity=i,n.imperial.output=i/e,n.imperial.cost={production:n.imperial.production*i,final:n.imperial.total*i},n.metric.quantity=r,n.metric.ado=e/t,n.metric.output=r/n.metric.ado,n.metric.cost={production:n.metric.production*r,final:n.metric.total*r},n.concrete={};var o={item:{id:$.a.genny("Wall","item"),item_no:null,title:this.wall.tag+" BlockWall",description:this.wall.rate.applicable.description,output:n.metric.output,quantity:n.metric.quantity,unit:n.metric.unit,rate:n.metric.production,total:n.metric.quantity*n.metric.production},phase:this.wall.estimate.estimate.phase,section:this.wall.estimate.estimate.section};return this.wall.estimate.estimate.items.push(o.item),this.$store.dispatch("addEstimateItem",o),n},processWallbars:function(){var t=this,e=[],a={bartype:this.barweights[this.wall.rebar.vbar_type],length:this.wall.rebar.vbar_height,amount:this.wall.length/this.wall.rebar.vbar_spacing,rate:null},r={bartype:this.barweights[this.wall.rebar.hbar_type],length:this.wall.length,amount:this.wall.height/this.wall.rebar.hbar_spacing,rate:null};this.jobrates.forEach((function(t){"Steelwork"===t.key.category&&(t.key.description.includes(a.bartype.d)||t.key.description.includes(a.bartype.bytpe)?(a.rate=t.key.rate,e.push(t.key)):(t.key.description.includes(r.bartype.d)||t.key.description.includes(r.bartype.bytpe))&&(r.rate=t.key.rate,e.push(t.key)))})),a.quantity=a.length*a.amount,a.kg=a.quantity*a.bartype.kgm,a.bars=a.quantity/9;var i={item:{id:$.a.genny("Re","Bar"),item_no:null,title:"".concat(a.bartype.d,"mm ").concat(a.bartype.btype),description:"".concat(a.bartype.d,"mm ").concat(a.bartype.btype," (Vertical)"),quantity:a.kg,unit:a.rate.metric.unit,rate:a.rate.metric.production,total:a.kg*a.rate.metric.production},phase:this.wall.estimate.estimate.phase,section:this.wall.estimate.estimate.section};setTimeout((function(){t.wall.estimate.estimate.items.push(i.item),t.$store.dispatch("addEstimateItem",i)}),1e3),r.quantity=r.length*r.amount,r.kg=r.quantity*r.bartype.kgm,r.bars=r.quantity/9;var n={item:{id:$.a.genny("Re","Bar"),item_no:null,title:"".concat(r.bartype.d,"mm ").concat(r.bartype.btype),description:"".concat(r.bartype.d,"mm ").concat(r.bartype.btype," (Horizontal)"),quantity:r.kg,unit:r.rate.metric.unit,rate:r.rate.metric.production,total:r.kg*r.rate.metric.production},phase:this.wall.estimate.estimate.phase,section:this.wall.estimate.estimate.section};return setTimeout((function(){t.wall.estimate.estimate.items.push(n.item),t.$store.dispatch("addEstimateItem",n)}),1500),{vertical:a,horizontal:r}},processDrywall:function(){var t=this.wall.length,e=this.wall.height,a=(this.wall.thickness,10.7639),r=this.wall.rate.applicable.rate.imperial.ado,i=null,n=t*e-i,o=n*a,l=this.wall.rate.applicable.rate;return l.imperial.quantity=o,l.imperial.output=o/r,l.imperial.cost={production:l.imperial.production*o,final:l.imperial.total*o},l.metric.quantity=n,l.metric.ado=l.imperial.iado/a,l.metric.output=n/l.metric.ado,l.metric.cost={production:l.metric.production*n,final:l.metric.total*n},l},processItemSection:function(){var t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","z"];if(this.cephases.has(this.wall.estimate.estimate.phase)){this.estimates.forEach((function(e){e.items.forEach((function(e){t.shift()}))}));var e=t.shift();return e}var a=t.shift();return a}}),methods:{setupWall:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"===t.wall.unit?(t.wall.length=t.wall.length/1e3,t.wall.height=t.wall.height/1e3,"Masonry"===t.wall.category?(t.wall.rebar=t.rebar,t.wall.rebar.vbar_spacing=t.wall.rebar.vbar_spacing/1e3,t.wall.rebar.vbar_height=t.wall.height+.3,t.wall.rebar.hbar_spacing=t.wall.rebar.hbar_spacing/100):"Drywall"===t.wall.category&&(t.wall.frame=t.frame,t.wall.frame.stud_spacing=t.wall.frame.stud_spacing/1e3,t.wall.rebar.stud_height=t.wall.height,t.wall.rebar.track_spacing=t.wall.frame.track_spacing/1e3)):"imperial"===t.wall.unit&&("Masonry"===t.wall.category?(t.wall.rebar=t.rebar,t.wall.rebar.vbar_spacing=t.wall.rebar.vbar_spacing/12,t.wall.rebar.vbar_height=t.wall.height+1,t.wall.rebar.hbar_spacing=t.wall.rebar.hbar_spacing/12):"Drywall"===t.wall.category&&(t.wall.frame=t.frame,t.wall.frame.stud_spacing=t.wall.frame.stud_spacing/12,t.wall.rebar.stud_height=t.wall.height,t.wall.rebar.track_spacing=t.wall.frame.track_spacing/12));case 1:case"end":return e.stop()}}),e)})))()},setWallThickness:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"75mm"==t.wall.tag?t.wall.thickness=75:"100mm"==t.wall.tag?t.wall.thickness=100:"150mm"==t.wall.tag?t.wall.thickness=150:"200mm"==t.wall.tag?t.wall.thickness=200:"250mm"==t.wall.tag&&(t.wall.thickness=250);case 1:case"end":return e.stop()}}),e)})))()},getRates:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.jobrates.forEach((function(e){e.key.category===t.wall.category&&t.wall.rate.rates.push(e.key),e.key.category===t.wall.category&&e.key.tags.includes(t.wall.tag)&&(t.wall.rate.applicable=e.key)})),e.abrupt("return",void 0);case 2:case"end":return e.stop()}}),e)})))()},setCategory:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"BlockWall"==t.wall.walltype?t.wall.category="Masonry":"Drywall"==t.wall.walltype&&(t.wall.category="Drywall");case 1:case"end":return e.stop()}}),e)})))()},processWall:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.setupWall(),"Masonry"===t.wall.category?(t.wall.estimate.estimate.id=$.a.genny("concrete","masonry"),t.processCMU,t.processWallbars):"Drywall"===t.wall.category&&(t.wall.estimate.estimate.id=$.a.genny("dry","wall"),t.processDrywall);case 2:case"end":return e.stop()}}),e)})))()},applyRate:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"Drywall"===t.wall.category?t.wall_types.dws_options.forEach((function(e){e.value==t.wall.tag&&(t.rate.specification=e)})):"Masonry"==t.wall.category&&t.wall_types.masonry_options.forEach((function(e){e.value==t.wall.tag&&(t.rate.specification=e)})),t.rate.title?t.rate.description?t.rate.category?t.rate.rate.imperial.production?t.rate.rate.metric.production||(t.rate.rate.metric.production=prompt("You need to enter a Matric production Rate "),t.rate.rate.metric.total=Math.round(t.rate.rate.metric.production)):(t.rate.rate.imperial.production=prompt("You need to enter an Imperial production Rate "),t.rate.rate.imperial.total=Math.round(t.rate.rate.impreial.production)):t.rate.category=t.wall.category:t.rate.description=t.rate.specification.text:t.rate.title=prompt("Item Needs a Title"),t.rate._id=$.a.genny(t.rate.title,t.rate.description),t.rate.jobclass="job",t.wall.rate.applicable=t.rate,t.$store.dispatch("addJobRate",t.rate);case 6:case"end":return e.stop()}}),e)})))()},resetItem:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.item={id:null,item_no:null,title:null,description:null,ado:null,quantity:null,unit:null,rate:null,total:null};case 1:case"end":return e.stop()}}),e)})))()}}},A=P,E=(a("a118"),Object(b["a"])(A,C,k,!1,null,"47ca01ae",null)),F=E.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card bg-blue-100 flex flex-col border border-gray-400 p-1 mt-5 w-full h-3/4 rounded-md overflow-y-auto"},[a("p",[t._v("Structural Member Estimate")]),t.message?a("p",[t._v(t._s(t.message)+" ")]):t._e(),a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2"},[a("ul",{staticClass:"card flex flex-col bg-teal-200 p-1 rounded-lg"},[a("li",[a("table",{staticClass:"text-sm text-teal-800 font-semibold"},[a("caption",[t._v("Project")]),t._m(0),a("tr",[a("td",{staticClass:"text-xs w-1/4"},[t._v("Project Phase")]),a("td",{staticClass:"text-xs w-3/4"},[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.phase,expression:"project.estimate.phase"}],staticClass:"px-2 py-1 rounded-l-lg border hover:border-gray-500 w-full",attrs:{type:"text",placeholder:"Project Phase"},domProps:{value:t.project.estimate.phase},on:{input:function(e){e.target.composing||t.$set(t.project.estimate,"phase",e.target.value)}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.phase,expression:"project.estimate.phase"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700  px-1 py-1  rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.project.estimate,"phase",e.target.multiple?a:a[0])}}},t._l(t.phases,(function(e){return a("option",{key:e},[t._v(t._s(e))])})),0)])])])]),a("tr",[a("td",{staticClass:"text-xs"},[t._v("Section")]),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.section,expression:"project.estimate.section"}],staticClass:"px-2 py-1 rounded-l-lg border hover:border-gray-500 w-full",attrs:{type:"text",placeholder:"Section"},domProps:{value:t.project.estimate.section},on:{input:function(e){e.target.composing||t.$set(t.project.estimate,"section",e.target.value)}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.section,expression:"project.estimate.section"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-1 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.project.estimate,"section",e.target.multiple?a:a[0])}}},t._l(t.sections,(function(e){return a("option",{key:e},[t._v(t._s(e))])})),0)])])])])])]),a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold border border-gray-400"},[a("caption",[t._v("Structural Member")]),t._m(1),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"category"}},[t._v("Category")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.foundation.category,expression:"foundation.category"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.foundation,"category",e.target.multiple?a:a[0])}}},t._l(t.beam_categories,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),"concrete"==t.foundation.category?a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Mix-Ratio")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.foundation.mix.ratio,expression:"foundation.mix.ratio"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.foundation.mix,"ratio",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",hidden:""}},[t._v("Ratio")]),a("option",{attrs:{value:"1:3:6"}},[t._v("1:3:6")]),a("option",{attrs:{value:"1:3:5"}},[t._v("1:3:5")]),a("option",{attrs:{value:"1:2:4"}},[t._v("1:2:4")]),a("option",{attrs:{value:"1:2:3"}},[t._v("1:2:3")]),a("option",{attrs:{value:"1:2:2"}},[t._v("1:2:2")]),a("option",{attrs:{value:"1:1:1"}},[t._v("1:1:1")])])]):t._e()])])]),a("tr",[a("td"),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"beam-type"}},[t._v("Footing Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.foundation.foundationtype,expression:"foundation.foundationtype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.foundation,"foundationtype",e.target.multiple?a:a[0])}}},t._l(t.beamtypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[t._v("Tag "),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.foundation.tag,expression:"foundation.tag",modifiers:{lazy:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"text"},domProps:{value:t.foundation.tag},on:{change:function(e){return t.$set(t.foundation,"tag",e.target.value)}}})])])])]),a("tr",[a("td"),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1",on:{focusout:function(e){return t.setInputUnit()}}},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Unit")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.foundation.unit,expression:"foundation.unit"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.foundation,"unit",e.target.multiple?a:a[0])}}},[a("option",[t._v("metric")]),a("option",[t._v("imperial")])])]),a("div",{staticClass:"w-1/2 ml-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Length")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.fieldunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.foundation.length,expression:"foundation.length",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.foundation.length},on:{input:function(e){e.target.composing||t.$set(t.foundation,"length",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Width")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.foundation.bredth,expression:"foundation.bredth",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-l-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.foundation.bredth},on:{input:function(e){e.target.composing||t.$set(t.foundation,"bredth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Depth")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.foundation.depth,expression:"foundation.depth",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.foundation.depth},on:{input:function(e){e.target.composing||t.$set(t.foundation,"depth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]),"concrete"==t.foundation.category?a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold border border-gray-400"},[a("caption",[t._v("Reinforcement")]),a("tr",[a("th",[a("div",{staticClass:"flex flex-row items-center"},[a("span",{staticClass:"mx-2"},[t._v("Spanned")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.foundation.rebar.stirrup.span,expression:"foundation.rebar.stirrup.span"}],attrs:{type:"checkbox"},domProps:{value:t.foundation.rebar.stirrup.span,checked:Array.isArray(t.foundation.rebar.stirrup.span)?t._i(t.foundation.rebar.stirrup.span,t.foundation.rebar.stirrup.span)>-1:t.foundation.rebar.stirrup.span},on:{change:function(e){var a=t.foundation.rebar.stirrup.span,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=t.foundation.rebar.stirrup.span,o=t._i(a,n);r.checked?o<0&&t.$set(t.foundation.rebar.stirrup,"span",a.concat([n])):o>-1&&t.$set(t.foundation.rebar.stirrup,"span",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.foundation.rebar.stirrup,"span",i)}}})])]),a("th")]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"topbar-type"}},[t._v("Topbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.foundation.rebar.top.bartype,expression:"foundation.rebar.top.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.foundation.rebar.top,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Topbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.foundation.rebar.top.amount,expression:"foundation.rebar.top.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{placeholder:"Amt",type:"text"},domProps:{value:t.foundation.rebar.top.amount},on:{input:function(e){e.target.composing||t.$set(t.foundation.rebar.top,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.foundation.rebar.mid.bartype,expression:"foundation.rebar.mid.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.foundation.rebar.mid,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.foundation.rebar.mid.amount,expression:"foundation.rebar.mid.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"text",placeholder:"Amt."},domProps:{value:t.foundation.rebar.mid.amount},on:{input:function(e){e.target.composing||t.$set(t.foundation.rebar.mid,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Miainbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.foundation.rebar.main.bartype,expression:"foundation.rebar.main.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.foundation.rebar.main,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.foundation.rebar.main.amount,expression:"foundation.rebar.main.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{placeholder:"Amt.",type:"text"},domProps:{value:t.foundation.rebar.main.amount},on:{input:function(e){e.target.composing||t.$set(t.foundation.rebar.main,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Stirrupbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.foundation.rebar.stirrup.bartype,expression:"foundation.rebar.stirrup.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.foundation.rebar.stirrup,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Spacing")]),a("span",{staticClass:"text-xs text-red-600 font-semibold mx-1"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.foundation.rebar.stirrup.spacing,expression:"foundation.rebar.stirrup.spacing",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.foundation.rebar.stirrup.spacing},on:{input:function(e){e.target.composing||t.$set(t.foundation.rebar.stirrup,"spacing",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]):t._e(),a("li",{staticClass:"p-2 m-1"},[a("div",{staticClass:"flex flex-row items-center"},[a("button",{staticClass:"bg-blue-700 text-white text-xs px-2 py-1 rounded-lg mr-2",on:{click:t.runEstimate}},[t._v("Process foundation")]),a("button",{staticClass:"bg-blue-700 text-white text-xs px-2 py-1 rounded-lg"},[t._v("Cancel")])])])])]),a("div",{staticClass:"w-1/2 p-5 bg-gray-700 text-yellow-200 text-xs rounded-lg mx-2"},[a("preEstimate",{attrs:{project:t.project}})],1)]),a("beamTable",{staticClass:"mt-5",attrs:{beam:t.foundation}})],1)},R=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])}],N=(a("b680"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-blue-200 rounded-lg p-5 text-xs"},[a("p",{staticClass:"text-lg font-light mb-2"},[t._v("Beam Report")]),a("ul",{staticClass:"flex flex-row"},[a("li",[a("table",[t._m(0),a("tr",[a("td",[t._v("Type")]),a("td",[t._v(t._s(t.beam.beamtype))])]),a("tr",[a("td",[t._v("Category")]),a("td",[t._v(t._s(t.beam.category))])])])]),a("li",[a("table",{staticClass:"flex flex-row bg-gray-100 text-gray-800 p-2 mx-5 rounded-lg"},[a("caption",[t._v("Statistics")]),t._m(1),a("tr",[a("td",{staticClass:"bg-yellow-300 font-bold px-1"},[t._v("Unit")]),a("td",{staticClass:"font-bold px-2 border border-yellow-500"},[t._v(t._s(t.beam.unit))])]),a("tr",[a("td",{staticClass:"bg-blue-300 font-bold px-1"},[t._v("Length")]),a("td",{staticClass:"font-bold px-2 border border-blue-300"},[t._v(t._s(t.beam.length.toFixed(2)))])]),a("tr",[a("td",{staticClass:"bg-green-300 font-bold px-1"},[t._v("Width")]),a("td",{staticClass:"font-bold px-2 border border-green-300"},[t._v(t._s(t.beam.bredth.toFixed(2)))])]),a("tr",[a("td",{staticClass:"bg-red-300 font-bold px-2"},[t._v("Depth")]),a("td",{staticClass:"font-bold px-2 border border-red-300"},[t._v(t._s(t.beam.depth.toFixed(2)))])])])])]),a("ul",{staticClass:"flex flex-row"},[a("li",{staticClass:"card bg-gray-300 hover:bg-gray-200 p-2 m-2 w-full rounded-lg"},[a("table",[a("caption",[t._v("Formwork")]),t._m(2),a("tr",[a("td",[t._v("Beam Type")]),a("td",[t._v(t._s(t.beam.beamtype))])]),a("tr",[a("td",[t._v("Category")]),a("td",[t._v(t._s(t.beam.category))])])])]),a("li")]),a("ul",{staticClass:"flex flex-row"},[a("li",{staticClass:"card bg-gray-300 hover:bg-gray-200 p-2 m-2 w-full rounded-lg"},[a("table",[a("caption",[t._v("Reinforcement")]),t._m(3),a("tr",[a("td",[t._v("Top Bar")]),a("td",[t._v(t._s(t.beam.rebar.top.bartype))]),a("td",[t._v("Amt")]),a("td",[t._v(t._s(t.beam.rebar.top.amount))]),a("td",[t._v("Length")]),a("td",[t._v(t._s(t.beam.rebar.top.length))]),a("td",[t._v("Lap")]),a("td",[t._v(t._s(t.beam.rebar.top.lap))]),a("td",[t._v("Lap-Length")]),a("td",[t._v(t._s(t.beam.rebar.top.lap_length))]),a("td",[t._v("Weight")]),a("td",[t._v(t._s(t.beam.rebar.top.kg))]),a("td",[t._v("Output")]),a("td")]),a("tr",[a("td",[t._v("Mid Bar")]),a("td",[t._v(t._s(t.beam.rebar.mid.bartype))]),a("td",[t._v("Amt")]),a("td",[t._v(t._s(t.beam.rebar.mid.amount))]),a("td",[t._v("Length")]),a("td",[t._v(t._s(t.beam.rebar.mid.length))]),a("td",[t._v("Lap")]),a("td",[t._v(t._s(t.beam.rebar.mid.lap))]),a("td",[t._v("Lap-Length")]),a("td",[t._v(t._s(t.beam.rebar.mid.lap_length))]),a("td",[t._v("Weight")]),a("td",[t._v(t._s(t.beam.rebar.mid.kg))]),a("td",[t._v("Output")]),a("td")]),a("tr",[a("td",[t._v("Main Bar")]),a("td",[t._v(t._s(t.beam.rebar.main.bartype))]),a("td",[t._v("Amt")]),a("td",[t._v(t._s(t.beam.rebar.main.amount))]),a("td",[t._v("Length")]),a("td",[t._v(t._s(t.beam.rebar.main.length))]),a("td",[t._v("Lap")]),a("td",[t._v(t._s(t.beam.rebar.main.lap))]),a("td",[t._v("Lap-Length")]),a("td",[t._v(t._s(t.beam.rebar.main.lap_length))]),a("td",[t._v("Weight")]),a("td",[t._v(t._s(t.beam.rebar.main.kg))]),a("td",[t._v("Output")]),a("td")]),a("tr",[a("td",[t._v("Stirrup")]),a("td",[t._v(t._s(t.beam.rebar.stirrup.bartype))]),a("td",[t._v("Spacing")]),a("td",[t._v(t._s(t.beam.rebar.stirrup.spacing))]),a("td",[t._v("Amount")]),a("td",[t._v(t._s(t.beam.rebar.stirrup.amount))]),a("td",[t._v("Length")]),a("td",[t._v(t._s(t.beam.rebar.stirrup.length))]),a("td",[t._v("Calculate Span")]),a("td",[t._v(t._s(t.beam.rebar.stirrup.span))]),a("td",[t._v("Weight")]),a("td",[t._v(t._s(t.beam.rebar.stirrup.kg))]),a("td",[t._v("Output")]),a("td")]),a("tr",[a("td",[t._v("Link")]),a("td",[t._v(t._s(t.beam.rebar.link.bartype))]),a("td",[t._v("Spacing")]),a("td",[t._v(t._s(t.beam.rebar.link.spacing))]),a("td",[t._v("Amount")]),a("td",[t._v(t._s(t.beam.rebar.link.amount))]),a("td",[t._v("Length")]),a("td",[t._v(t._s(t.beam.rebar.link.length))]),a("td",[t._v("Calculate Span")]),a("td",[t._v(t._s(t.beam.rebar.link.span))]),a("td",[t._v("Weight")]),a("td",[t._v(t._s(t.beam.rebar.link.kg))]),a("td",[t._v("Output")]),a("td")])])]),a("li")]),a("ul",{staticClass:"flex flex-row"},[a("li",{staticClass:"card bg-gray-300 hover:bg-gray-200 p-2 m-2 w-full rounded-lg"},[a("table",[a("caption",[t._v("Concrete")]),t._m(4),a("tr",[a("td",[t._v("Category")]),a("td",[t._v(t._s(t.beam.concrete.category))]),a("td",[t._v("Mix")]),a("td",[t._v(t._s(t.beam.concrete.mix))]),a("td",[t._v("Ratio")]),a("td",[t._v(t._s(t.beam.concrete.ratio))]),a("td",[t._v("Volume")]),a("td",[t._v(t._s(t.beam.concrete.volume))]),a("td",[t._v("Output")]),a("td")]),a("tr",[a("td",[t._v("Fine Aggregate")]),a("td",[t._v("Washed Sand")]),a("td",[t._v("volume")]),a("td",[t._v(t._s(t.concrete.sand))]),a("td",[t._v("Weight")]),a("td"),a("td"),a("td")]),a("tr",[a("td",[t._v("Coarse Aggregate")]),a("td",[t._v("Crushed Stone")]),a("td",[t._v("volume")]),a("td",[t._v(t._s(t.concrete.stone))]),a("td",[t._v("Weight")]),a("td"),a("td"),a("td")]),a("tr",[a("td",[t._v("Cement")]),a("td",[t._v("Portland")]),a("td",[t._v("volume")]),a("td",[t._v(t._s(t.concrete.cement.volume))]),a("td",[t._v("Weight")]),a("td"),a("td"),a("td",[t._v(t._s(t.processConcrete))])])])]),a("li")])])}),S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th"),a("th"),a("th"),a("th"),a("th"),a("th"),a("th"),a("th"),a("th"),a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th"),a("th"),a("th"),a("th"),a("th"),a("th"),a("th")])}];a("13d5"),a("1276"),a("d28b"),a("e260"),a("a630"),a("fb6a"),a("b0c0"),a("25f0");function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function O(t,e){if(t){if("string"===typeof t)return T(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?T(t,e):void 0}}function M(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=O(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,n=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return n=t.done,t},e:function(t){o=!0,i=t},f:function(){try{n||null==r["return"]||r["return"]()}finally{if(o)throw i}}}}var U={name:"beam-table",props:{beam:{type:Object,required:!0}},data:function(){return{concrete:{cement:{volume:null,bags:null},sand:null,stone:null,water:null}}},mounted:function(){},computed:{processConcrete:function(){var t,e=this,a=[],r=e.beam.concrete.ratio.split(":"),i=M(r);try{for(i.s();!(t=i.n()).done;){var n=t.value;a.push(parseInt(n))}}catch(l){i.e(l)}finally{i.f()}console.log(a);var o=a.reduce((function(t,e){return t+e}),0);return this.concrete.cement.volume=(e.beam.concrete.volume*(a[0]/o)).toFixed(3),this.concrete.sand=(e.beam.concrete.volume*(a[1]/o)).toFixed(3),this.concrete.stone=(e.beam.concrete.volume*(a[2]/o)).toFixed(3),console.log(o),a}},methods:{}},I=U,D=(a("fe66"),Object(b["a"])(I,N,S,!1,null,null,null)),B=D.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("table",[a("caption",[t._v("Estimate Preview")]),t._m(0),a("tr",[a("td",[t._v("Project Id")]),a("td",[t._v(t._s(t.project._id))])]),a("tr",[a("td",[t._v("Project Phase")]),a("td",[t._v(t._s(t.project.estimate.phase))])]),a("tr",[a("td",[t._v("Estimate Id")]),a("td",[t._v(t._s(t.project.estimate.id))])]),a("tr",[a("td",[t._v("Estimate Section")]),a("td",[t._v(t._s(t.project.estimate.section))])])])]),a("li",[a("table",[a("caption",[t._v("Items")]),t._m(1),t._l(t.project.estimate.items,(function(e){return a("tr",{key:e.id,staticClass:"border border-yellow-300"},[a("td",[a("table",[t._m(2,!0),a("tr",[a("td",[t._v("Item")]),a("td",[t._v(t._s(e.item_no))])]),a("tr",[a("td",[t._v("Title")]),a("td",[t._v(t._s(e.title))])]),a("tr",[a("td",[t._v("Description")]),a("td",[t._v(t._s(e.description))])]),a("tr",[a("td",[t._v("Quantity")]),a("td",[t._v(t._s(e.quantity))])]),a("tr",[a("td",[t._v("Unit")]),a("td",[t._v(t._s(e.unit))])]),a("tr",[a("td",[t._v("Rate")]),a("td",[t._v(t._s(e.rate))])]),a("tr",[a("td",[t._v("Cost")]),a("td",[t._v(t._s(e.cost.total))])])])]),a("td")])}))],2)])])},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])}],z={name:"pre-estimate",props:{project:{type:Object,required:!0}}},Y=z,J=Object(b["a"])(Y,L,W,!1,null,null,null),G=J.exports,H={name:"foundation",components:{beamTable:B,preEstimate:G},props:{project_id:{type:String,required:!0}},data:function(){return{message:null,fieldunit:null,inputunit:null,foundation:{foundationtype:null,category:null,tag:null,unit:null,length:null,depth:null,width:null,thickness:null,mix:{ratio:null},rebar:{cover:50,main:{bartype:null,lap:null,lap_length:null,length:null,amount:null,kg:null},mid:{bartype:null,lap:null,lap_length:null,length:null,amount:null,kg:null},top:{bartype:null,lap:null,lap_length:null,length:null,amount:null,kg:null},stirrup:{spacing:null,span:!1,bartype:null,length:null,lap_length:null,amount:null,kg:null},link:{spacing:null,span:!0,bartype:null,length:null,lap_length:null,amount:null,kg:null}}},project:{_id:null,estimate:{id:null,phase:null,section:null,items:[],comment:null,meta_data:{created:Date.parse(new Date),author:null}}}}},mounted:function(){this.$store.dispatch("loadJobRates")},computed:Object(o["a"])({},Object(l["c"])({alpha_index:"alpha_index",phases:"currentEstimatePhases",sections:"currentEstimateSections",jobrates:"jobrates",beamtypes:"beamtypes",beam_categories:"beam_categories",bartypes:"bar_types"}),{processConcreteBeam:function(){var t=9,e=this;e.foundation.unit&&(e.processUnits(),e.project._id=e.project_id),e.foundation.rebar.top.length=e.foundation.length,e.foundation.rebar.main.length=e.foundation.length,e.foundation.rebar.mid.length=e.foundation.length,e.foundation.rebar.top.lap=(e.foundation.length/t).toFixed(2),e.foundation.rebar.main.lap=(e.foundation.length/t).toFixed(2),e.foundation.rebar.mid.lap=(e.foundation.length/t).toFixed(2),e.foundation.rebar.stirrup.amount=(e.foundation.length/e.foundation.rebar.stirrup.spacing).toFixed(0),e.foundation.rebar.stirrup.length=(2*e.foundation.bredth+2*e.foundation.depth).toFixed(2);var a={category:"Concrete",mix:"manual",components:"aggregate",volume:(e.foundation.length*e.foundation.bredth*e.foundation.depth).toFixed(3),ratio:e.foundation.mix.ratio,rate:{applicable:{},rates:[]}};e.jobrates.forEach((function(t){t.key.category==a.category&&a.rate.rates.push(t.key),t.key.category==a.category&&t.key.tags.includes(e.foundation.foundationtype)&&t.key.tags.includes(a.mix)&&t.key.tags.includes("ff")&&(a.rate.applicable=t.key),t.key.category==a.category&&t.key.tags.includes(a.components)&&t.key.tags.includes("man")&&(a.rate.extra=t.key)})),a.item={id:$.a.genny("reinforced","concrete"),title:"Mix and Place Concrete",description:a.rate.applicable.description,ado:null,quantity:a.volume},a.subitem={id:$.a.genny("concrete","gang"),title:"Batch Aggregates",description:a.rate.extra.description,ado:null,quantity:a.volume},"belt"==e.foundation.foundationtype?e.foundation.girth=2*e.foundation.depth:e.foundation.girth=2*e.foundation.depth+e.foundation.bredth;var r={keword:"Erect",category:"Carpentry",length:e.foundation.length,width:e.foundation.bredth,area:(e.foundation.length*e.foundation.girth).toFixed(2),rate:{rates:[],applicable:null}};e.jobrates.forEach((function(t){t.key.category==r.category&&r.rate.rates.push(t.key),t.key.category==r.category&&t.key.tags.includes(e.foundation.foundationtype)&&!t.key.description.includes("Make")&&(r.rate.applicable=t.key),t.key.category==r.category&&t.key.tags.includes(e.foundation.foundationtype)&&t.key.description.includes("Make")&&(r.rate.extra=t.key)})),r.item={id:$.a.genny("form","erect"),ado:null,quantity:r.area},r.item.title="Erect and Strike",r.item.description=r.rate.applicable.description,r.makeitem={id:$.a.genny("form","make"),ado:null,quantity:r.area},r.makeitem.title="Make Formwork",r.makeitem.description=r.rate.extra.description,"metric"==e.foundation.unit?(e.foundation.rebar.cover,a.item.rate=a.rate.applicable.rate.metric.production,a.item.total=a.rate.applicable.rate.metric.total,a.item.unit="m3",a.item.cost={production:(a.item.rate*a.item.quantity).toFixed(2),total:(a.item.total*a.item.quantity).toFixed(2)},a.subitem.rate=a.rate.extra.rate.metric.production,a.subitem.total=a.rate.extra.rate.metric.total,a.subitem.unit="m3",a.subitem.cost={production:(a.subitem.rate*a.subitem.quantity).toFixed(2),total:(a.subitem.total*a.subitem.quantity).toFixed(2)},r.item.rate=r.rate.applicable.rate.metric.production,r.item.total=r.rate.applicable.rate.metric.total,r.item.unit="m2",r.item.cost={production:(r.item.rate*r.item.quantity).toFixed(2),total:(r.item.total*r.item.quantity).toFixed(2)},r.makeitem.rate=r.rate.extra.rate.metric.production,r.makeitem.total=r.rate.extra.rate.metric.total,r.makeitem.unit="m2",r.makeitem.cost={production:(r.makeitem.rate*r.makeitem.quantity).toFixed(2),total:(r.makeitem.total*r.makeitem.quantity).toFixed(2)}):"imperial"==e.foundation.unit&&(e.foundation.rebar.cover,t/=3.125,a.volume=a.volume/27,a.item.rate=a.rate.applicable.rate.imperial.production,a.item.total=a.rate.applicable.rate.imperial.total,a.item.unit="Yd.Cu.",a.item.cost={production:(a.item.rate*a.item.quantity).toFixed(2),total:(a.item.total*a.item.quantity).toFixed(2)},a.subitem.rate=a.rate.extra.rate.imperial.production,a.subitem.total=a.rate.extra.rate.imperial.total,a.subitem.unit="Yd.Cu.",a.subitem.cost={production:(a.subitem.rate*a.subitem.quantity).toFixed(2),total:(a.subitem.total*a.subitem.quantity).toFixed(2)},r.item.rate=r.rate.applicable.rate.imperial.production,r.item.total=r.rate.applicable.rate.imperial.total,r.item.unit="Ft.Sq",r.item.cost={production:(r.item.rate*r.item.quantity).toFixed(2),total:(r.item.total*r.item.quantity).toFixed(2)},r.makeitem.rate=r.rate.extra.rate.imperial.production,r.makeitem.total=r.rate.extra.rate.imperial.total,r.makeitem.unit="Ft.Sq",r.makeitem.cost={production:(r.makeitem.rate*r.makeitem.quantity).toFixed(2),total:(r.makeitem.total*r.makeitem.quantity).toFixed(2)}),e.project.estimate.id=$.a.genny("concrete","foundation"),setTimeout((function(){r.item.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(r.item)}),1e3),setTimeout((function(){r.makeitem.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(r.makeitem)}),2e3),setTimeout((function(){a.item.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(a.item)}),3e3),setTimeout((function(){a.subitem.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(a.subitem)}),3500),a.rate.rates=[],r.rate.rates=[],e.foundation.formwork=r,e.foundation.concrete=a}}),methods:{getRate:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",void 0);case 1:case"end":return t.stop()}}),t)})))()},processUnits:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"==t.foundation.unit?(t.inputunit="m",t.fieldunit="m",t.foundation.length=t.foundation.length/1e3,t.foundation.bredth=t.foundation.bredth/1e3,t.foundation.depth=t.foundation.depth/1e3,t.foundation.rebar.stirrup.spacing=t.foundation.rebar.stirrup.spacing/1e3):"imperial"==t.foundation.unit&&(t.inputunit="ft",t.fieldunit="ft",t.foundation.bredth=t.foundation.bredth/12,t.foundation.depth=t.foundation.depth/12,t.foundation.rebar.stirrup.spacing=t.foundation.rebar.stirrup.spacing/12),t.message="Estimate Unit Set to ".concat(t.foundation.unit);case 2:case"end":return e.stop()}}),e)})))()},runEstimate:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.processConcreteBeam;case 1:case"end":return e.stop()}}),e)})))()},setInputUnit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"==t.foundation.unit?(t.inputunit="mm",t.fieldunit="mm"):"imperial"==t.foundation.unit&&(t.inputunit="inch",t.fieldunit="ft");case 1:case"end":return e.stop()}}),e)})))()}}},K=H,V=(a("ef09"),Object(b["a"])(K,q,R,!1,null,null,null)),Q=V.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card bg-blue-100 flex flex-col border border-gray-400 p-1 mt-5 w-full h-3/4 rounded-md overflow-y-auto"},[a("p",[t._v("Structural Member Estimate")]),t.message?a("p",[t._v(t._s(t.message)+" ")]):t._e(),a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2"},[a("ul",{staticClass:"card flex flex-col bg-blue-800 p-1 rounded-lg"},[a("li",[a("table",{staticClass:"text-sm text-teal-200 font-semibold"},[a("caption",[t._v("Project")]),t._m(0),a("tr",[a("td",{staticClass:"text-xs w-1/4"},[t._v("Project Phase")]),a("td",{staticClass:"text-xs w-3/4"},[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.phase,expression:"project.estimate.phase"}],staticClass:"px-2 py-1 rounded-l-lg border hover:border-gray-500 w-full",attrs:{type:"text",placeholder:"Project Phase"},domProps:{value:t.project.estimate.phase},on:{input:function(e){e.target.composing||t.$set(t.project.estimate,"phase",e.target.value)}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.phase,expression:"project.estimate.phase"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700  px-1 py-1  rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.project.estimate,"phase",e.target.multiple?a:a[0])}}},t._l(t.phases,(function(e){return a("option",{key:e},[t._v(t._s(e))])})),0)])])])]),a("tr",[a("td",{staticClass:"text-xs"},[t._v("Section")]),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.section,expression:"project.estimate.section"}],staticClass:"px-2 py-1 rounded-l-lg border hover:border-gray-500 w-full",attrs:{type:"text",placeholder:"Section"},domProps:{value:t.project.estimate.section},on:{input:function(e){e.target.composing||t.$set(t.project.estimate,"section",e.target.value)}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.section,expression:"project.estimate.section"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-1 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.project.estimate,"section",e.target.multiple?a:a[0])}}},t._l(t.sections,(function(e){return a("option",{key:e},[t._v(t._s(e))])})),0)])])])])])]),a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold border border-gray-400"},[a("caption",[t._v("Structural Member")]),t._m(1),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"category"}},[t._v("Category")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.category,expression:"beam.category"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"category",e.target.multiple?a:a[0])}}},t._l(t.beam_categories,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),"concrete"==t.beam.category?a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Mix-Ratio")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.mix.ratio,expression:"beam.mix.ratio"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.mix,"ratio",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",hidden:""}},[t._v("Ratio")]),a("option",{attrs:{value:"1:3:6"}},[t._v("1:3:6")]),a("option",{attrs:{value:"1:3:5"}},[t._v("1:3:5")]),a("option",{attrs:{value:"1:2:4"}},[t._v("1:2:4")]),a("option",{attrs:{value:"1:2:3"}},[t._v("1:2:3")]),a("option",{attrs:{value:"1:2:2"}},[t._v("1:2:2")]),a("option",{attrs:{value:"1:1:1"}},[t._v("1:1:1")])])]):t._e()])])]),a("tr",[a("td"),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"beam-type"}},[t._v("Beam Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.beamtype,expression:"beam.beamtype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"beamtype",e.target.multiple?a:a[0])}}},t._l(t.beamtypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[t._v("Tag "),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.beam.tag,expression:"beam.tag",modifiers:{lazy:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"text"},domProps:{value:t.beam.tag},on:{change:function(e){return t.$set(t.beam,"tag",e.target.value)}}})])])])]),a("tr",[a("td"),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1",on:{focusout:function(e){return t.setInputUnit()}}},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Unit")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.unit,expression:"beam.unit"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"unit",e.target.multiple?a:a[0])}}},[a("option",[t._v("metric")]),a("option",[t._v("imperial")])])]),a("div",{staticClass:"w-1/2 ml-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Length")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.fieldunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.length,expression:"beam.length",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.length},on:{input:function(e){e.target.composing||t.$set(t.beam,"length",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Width")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.bredth,expression:"beam.bredth",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-l-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.bredth},on:{input:function(e){e.target.composing||t.$set(t.beam,"bredth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Depth")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.depth,expression:"beam.depth",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.depth},on:{input:function(e){e.target.composing||t.$set(t.beam,"depth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]),"concrete"==t.beam.category?a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold border border-gray-400"},[a("caption",[t._v("Reinforcement")]),a("tr",[a("th",[a("div",{staticClass:"flex flex-row items-center"},[a("span",{staticClass:"mx-2"},[t._v("Spanned")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.stirrup.span,expression:"beam.rebar.stirrup.span"}],attrs:{type:"checkbox"},domProps:{value:t.beam.rebar.stirrup.span,checked:Array.isArray(t.beam.rebar.stirrup.span)?t._i(t.beam.rebar.stirrup.span,t.beam.rebar.stirrup.span)>-1:t.beam.rebar.stirrup.span},on:{change:function(e){var a=t.beam.rebar.stirrup.span,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=t.beam.rebar.stirrup.span,o=t._i(a,n);r.checked?o<0&&t.$set(t.beam.rebar.stirrup,"span",a.concat([n])):o>-1&&t.$set(t.beam.rebar.stirrup,"span",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.beam.rebar.stirrup,"span",i)}}})])]),a("th")]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"topbar-type"}},[t._v("Topbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.top.bartype,expression:"beam.rebar.top.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.top,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Topbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.top.amount,expression:"beam.rebar.top.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{placeholder:"Amt",type:"text"},domProps:{value:t.beam.rebar.top.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.top,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.mid.bartype,expression:"beam.rebar.mid.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.mid,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.mid.amount,expression:"beam.rebar.mid.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"text",placeholder:"Amt."},domProps:{value:t.beam.rebar.mid.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.mid,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Miainbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.main.bartype,expression:"beam.rebar.main.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.main,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.main.amount,expression:"beam.rebar.main.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{placeholder:"Amt.",type:"text"},domProps:{value:t.beam.rebar.main.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.main,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Stirrupbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.stirrup.bartype,expression:"beam.rebar.stirrup.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.stirrup,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Spacing")]),a("span",{staticClass:"text-xs text-red-600 font-semibold mx-1"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.rebar.stirrup.spacing,expression:"beam.rebar.stirrup.spacing",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.rebar.stirrup.spacing},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.stirrup,"spacing",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]):t._e(),a("li",{staticClass:"p-2 m-1"},[a("div",{staticClass:"flex flex-row items-center"},[a("button",{staticClass:"bg-blue-700 text-white text-xs px-2 py-1 rounded-lg mr-2",on:{click:t.runEstimate}},[t._v("Process Beam")]),a("button",{staticClass:"bg-blue-700 text-white text-xs px-2 py-1 rounded-lg"},[t._v("Cancel")])])])])]),a("div",{staticClass:"w-1/2 p-5 bg-gray-700 text-yellow-200 text-xs rounded-lg mx-2"},[a("preEstimate",{attrs:{project:t.project}})],1)]),a("beamTable",{staticClass:"mt-5",attrs:{beam:t.beam}})],1)},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])}],tt={name:"beam",components:{beamTable:B,preEstimate:G},props:{project_id:{type:String,required:!0}},data:function(){return{message:null,fieldunit:null,inputunit:null,beam:{beamtype:null,category:null,tag:null,unit:null,length:null,depth:null,bredth:null,mix:{ratio:null},rebar:{cover:30,main:{bartype:null,lap:null,lap_length:null,length:null,amount:null,kg:null},mid:{bartype:null,lap:null,lap_length:null,length:null,amount:2,kg:null},top:{bartype:null,lap:null,lap_length:null,length:null,amount:2,kg:null},stirrup:{spacing:200,span:!1,bartype:null,length:null,lap_length:0,amount:null,kg:null},link:{spacing:null,span:!0,bartype:null,length:null,lap_length:0,amount:null,kg:null}}},project:{_id:null,estimate:{id:null,phase:null,section:null,items:[],comment:null,meta_data:{created:Date.parse(new Date),author:null}}}}},mounted:function(){this.$store.dispatch("loadJobRates")},computed:Object(o["a"])({},Object(l["c"])({alpha_index:"alpha_index",phases:"currentEstimatePhases",sections:"currentEstimateSections",jobrates:"jobrates",beamtypes:"beamtypes",beam_categories:"beam_categories",bartypes:"bar_types"}),{processConcreteBeam:function(){var t=9,e=this;e.beam.unit&&(e.processUnits(),e.project._id=e.project_id),e.beam.rebar.top.length=e.beam.length,e.beam.rebar.main.length=e.beam.length,e.beam.rebar.mid.length=e.beam.length,e.beam.rebar.top.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.main.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.mid.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.stirrup.amount=(e.beam.length/e.beam.rebar.stirrup.spacing).toFixed(0),e.beam.rebar.stirrup.length=(2*e.beam.bredth+2*e.beam.depth).toFixed(2);var a={category:"Concrete",mix:"manual",components:"aggregate",volume:(e.beam.length*e.beam.bredth*e.beam.depth).toFixed(3),ratio:e.beam.mix.ratio,rate:{applicable:{},rates:[]}};e.jobrates.forEach((function(t){t.key.category==a.category&&a.rate.rates.push(t.key),t.key.category==a.category&&t.key.tags.includes(e.beam.beamtype)&&t.key.tags.includes(a.mix)&&t.key.tags.includes("ff")&&(a.rate.applicable=t.key),t.key.category==a.category&&t.key.tags.includes(a.components)&&t.key.tags.includes("man")&&(a.rate.extra=t.key)})),a.item={id:$.a.genny("reinforced","concrete"),title:"Mix and Place Concrete",description:a.rate.applicable.description,ado:null,quantity:a.volume},a.subitem={id:$.a.genny("concrete","gang"),title:"Batch Aggregates",description:a.rate.extra.description,ado:null,quantity:a.volume},"belt"==e.beam.beamtype?e.beam.girth=2*e.beam.depth:e.beam.girth=2*e.beam.depth+e.beam.bredth;var r={keword:"Erect",category:"Carpentry",length:e.beam.length,width:e.beam.bredth,area:(e.beam.length*e.beam.girth).toFixed(2),rate:{rates:[],applicable:null}};e.jobrates.forEach((function(t){t.key.category==r.category&&r.rate.rates.push(t.key),t.key.category==r.category&&t.key.tags.includes(e.beam.beamtype)&&!t.key.description.includes("Make")&&(r.rate.applicable=t.key),t.key.category==r.category&&t.key.tags.includes(e.beam.beamtype)&&t.key.description.includes("Make")&&(r.rate.extra=t.key)})),r.item={id:$.a.genny("form","erect"),ado:null,quantity:r.area},r.item.title="Erect and Strike",r.item.description=r.rate.applicable.description,r.makeitem={id:$.a.genny("form","make"),ado:null,quantity:r.area},r.makeitem.title="Make Formwork",r.makeitem.description=r.rate.extra.description,"metric"==e.beam.unit?(e.beam.rebar.cover,a.item.rate=a.rate.applicable.rate.metric.production,a.item.total=a.rate.applicable.rate.metric.total,a.item.unit="m3",a.item.cost={production:(a.item.rate*a.item.quantity).toFixed(2),total:(a.item.total*a.item.quantity).toFixed(2)},a.subitem.rate=a.rate.extra.rate.metric.production,a.subitem.total=a.rate.extra.rate.metric.total,a.subitem.unit="m3",a.subitem.cost={production:(a.subitem.rate*a.subitem.quantity).toFixed(2),total:(a.subitem.total*a.subitem.quantity).toFixed(2)},r.item.rate=r.rate.applicable.rate.metric.production,r.item.total=r.rate.applicable.rate.metric.total,r.item.unit="m2",r.item.cost={production:(r.item.rate*r.item.quantity).toFixed(2),total:(r.item.total*r.item.quantity).toFixed(2)},r.makeitem.rate=r.rate.extra.rate.metric.production,r.makeitem.total=r.rate.extra.rate.metric.total,r.makeitem.unit="m2",r.makeitem.cost={production:(r.makeitem.rate*r.makeitem.quantity).toFixed(2),total:(r.makeitem.total*r.makeitem.quantity).toFixed(2)}):"imperial"==e.beam.unit&&(e.beam.rebar.cover,t/=3.125,a.volume=a.volume/27,a.item.rate=a.rate.applicable.rate.imperial.production,a.item.total=a.rate.applicable.rate.imperial.total,a.item.unit="Yd.Cu.",a.item.cost={production:(a.item.rate*a.item.quantity).toFixed(2),total:(a.item.total*a.item.quantity).toFixed(2)},a.subitem.rate=a.rate.extra.rate.imperial.production,a.subitem.total=a.rate.extra.rate.imperial.total,a.subitem.unit="Yd.Cu.",a.subitem.cost={production:(a.subitem.rate*a.subitem.quantity).toFixed(2),total:(a.subitem.total*a.subitem.quantity).toFixed(2)},r.item.rate=r.rate.applicable.rate.imperial.production,r.item.total=r.rate.applicable.rate.imperial.total,r.item.unit="Ft.Sq",r.item.cost={production:(r.item.rate*r.item.quantity).toFixed(2),total:(r.item.total*r.item.quantity).toFixed(2)},r.makeitem.rate=r.rate.extra.rate.imperial.production,r.makeitem.total=r.rate.extra.rate.imperial.total,r.makeitem.unit="Ft.Sq",r.makeitem.cost={production:(r.makeitem.rate*r.makeitem.quantity).toFixed(2),total:(r.makeitem.total*r.makeitem.quantity).toFixed(2)}),e.project.estimate.id=$.a.genny("concrete","beam"),setTimeout((function(){r.item.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(r.item)}),1e3),setTimeout((function(){r.makeitem.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(r.makeitem)}),2e3),setTimeout((function(){a.item.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(a.item)}),3e3),setTimeout((function(){a.subitem.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(a.subitem)}),3500),a.rate.rates=[],r.rate.rates=[],e.beam.formwork=r,e.beam.concrete=a}}),methods:{getRate:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",void 0);case 1:case"end":return t.stop()}}),t)})))()},processUnits:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"==t.beam.unit?(t.inputunit="m",t.fieldunit="m",t.beam.length=t.beam.length/1e3,t.beam.bredth=t.beam.bredth/1e3,t.beam.depth=t.beam.depth/1e3,t.beam.rebar.stirrup.spacing=t.beam.rebar.stirrup.spacing/1e3):"imperial"==t.beam.unit&&(t.inputunit="ft",t.fieldunit="ft",t.beam.bredth=t.beam.bredth/12,t.beam.depth=t.beam.depth/12,t.beam.rebar.stirrup.spacing=t.beam.rebar.stirrup.spacing/12),t.message="Estimate Unit Set to ".concat(t.beam.unit);case 2:case"end":return e.stop()}}),e)})))()},runEstimate:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.processConcreteBeam;case 1:case"end":return e.stop()}}),e)})))()},setInputUnit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"==t.beam.unit?(t.inputunit="mm",t.fieldunit="mm"):"imperial"==t.beam.unit&&(t.inputunit="inch",t.fieldunit="ft");case 1:case"end":return e.stop()}}),e)})))()}}},et=tt,at=(a("bda5"),Object(b["a"])(et,X,Z,!1,null,null,null)),rt=at.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card bg-blue-100 flex flex-col border border-gray-400 p-1 mt-5 w-full h-3/4 rounded-md overflow-y-auto"},[a("p",[t._v("Structural Member Estimate")]),t.message?a("p",[t._v(t._s(t.message)+" ")]):t._e(),a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2"},[a("ul",{staticClass:"card flex flex-col bg-blue-200 p-1 rounded-lg"},[a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold"},[a("caption",[t._v("Project")]),t._m(0),a("tr",[a("td",{staticClass:"text-xs w-1/4"},[t._v("Project Phase")]),a("td",{staticClass:"text-xs w-3/4"},[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.phase,expression:"project.estimate.phase"}],staticClass:"px-2 py-1 rounded-l-lg border hover:border-gray-500 w-full",attrs:{type:"text",placeholder:"Project Phase"},domProps:{value:t.project.estimate.phase},on:{input:function(e){e.target.composing||t.$set(t.project.estimate,"phase",e.target.value)}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.phase,expression:"project.estimate.phase"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700  px-1 py-1  rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.project.estimate,"phase",e.target.multiple?a:a[0])}}},t._l(t.phases,(function(e){return a("option",{key:e},[t._v(t._s(e))])})),0)])])])]),a("tr",[a("td",{staticClass:"text-xs"},[t._v("Section")]),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.section,expression:"project.estimate.section"}],staticClass:"px-2 py-1 rounded-l-lg border hover:border-gray-500 w-full",attrs:{type:"text",placeholder:"Section"},domProps:{value:t.project.estimate.section},on:{input:function(e){e.target.composing||t.$set(t.project.estimate,"section",e.target.value)}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.section,expression:"project.estimate.section"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-1 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.project.estimate,"section",e.target.multiple?a:a[0])}}},t._l(t.sections,(function(e){return a("option",{key:e},[t._v(t._s(e))])})),0)])])])])])]),a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold border border-gray-400"},[a("caption",[t._v("Structural Member")]),t._m(1),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"category"}},[t._v("Category")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.category,expression:"beam.category"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"category",e.target.multiple?a:a[0])}}},t._l(t.beam_categories,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),"concrete"==t.beam.category?a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Mix-Ratio")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.mix.ratio,expression:"beam.mix.ratio"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.mix,"ratio",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",hidden:""}},[t._v("Ratio")]),a("option",{attrs:{value:"1:3:6"}},[t._v("1:3:6")]),a("option",{attrs:{value:"1:3:5"}},[t._v("1:3:5")]),a("option",{attrs:{value:"1:2:4"}},[t._v("1:2:4")]),a("option",{attrs:{value:"1:2:3"}},[t._v("1:2:3")]),a("option",{attrs:{value:"1:2:2"}},[t._v("1:2:2")]),a("option",{attrs:{value:"1:1:1"}},[t._v("1:1:1")])])]):t._e()])])]),a("tr",[a("td"),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"beam-type"}},[t._v("Beam Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.beamtype,expression:"beam.beamtype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"beamtype",e.target.multiple?a:a[0])}}},t._l(t.beamtypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[t._v("Tag "),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.beam.tag,expression:"beam.tag",modifiers:{lazy:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"text"},domProps:{value:t.beam.tag},on:{change:function(e){return t.$set(t.beam,"tag",e.target.value)}}})])])])]),a("tr",[a("td"),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1",on:{focusout:function(e){return t.setInputUnit()}}},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Unit")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.unit,expression:"beam.unit"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"unit",e.target.multiple?a:a[0])}}},[a("option",[t._v("metric")]),a("option",[t._v("imperial")])])]),a("div",{staticClass:"w-1/2 ml-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Length")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.fieldunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.length,expression:"beam.length",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.length},on:{input:function(e){e.target.composing||t.$set(t.beam,"length",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Width")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.bredth,expression:"beam.bredth",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-l-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.bredth},on:{input:function(e){e.target.composing||t.$set(t.beam,"bredth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Depth")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.depth,expression:"beam.depth",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.depth},on:{input:function(e){e.target.composing||t.$set(t.beam,"depth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]),"concrete"==t.beam.category?a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold border border-gray-400"},[a("caption",[t._v("Reinforcement")]),a("tr",[a("th",[a("div",{staticClass:"flex flex-row items-center"},[a("span",{staticClass:"mx-2"},[t._v("Spanned")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.stirrup.span,expression:"beam.rebar.stirrup.span"}],attrs:{type:"checkbox"},domProps:{value:t.beam.rebar.stirrup.span,checked:Array.isArray(t.beam.rebar.stirrup.span)?t._i(t.beam.rebar.stirrup.span,t.beam.rebar.stirrup.span)>-1:t.beam.rebar.stirrup.span},on:{change:function(e){var a=t.beam.rebar.stirrup.span,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=t.beam.rebar.stirrup.span,o=t._i(a,n);r.checked?o<0&&t.$set(t.beam.rebar.stirrup,"span",a.concat([n])):o>-1&&t.$set(t.beam.rebar.stirrup,"span",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.beam.rebar.stirrup,"span",i)}}})])]),a("th")]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"topbar-type"}},[t._v("Topbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.top.bartype,expression:"beam.rebar.top.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.top,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Topbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.top.amount,expression:"beam.rebar.top.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{placeholder:"Amt",type:"text"},domProps:{value:t.beam.rebar.top.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.top,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.mid.bartype,expression:"beam.rebar.mid.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.mid,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.mid.amount,expression:"beam.rebar.mid.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"text",placeholder:"Amt."},domProps:{value:t.beam.rebar.mid.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.mid,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Miainbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.main.bartype,expression:"beam.rebar.main.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.main,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.main.amount,expression:"beam.rebar.main.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{placeholder:"Amt.",type:"text"},domProps:{value:t.beam.rebar.main.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.main,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Stirrupbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.stirrup.bartype,expression:"beam.rebar.stirrup.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.stirrup,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Spacing")]),a("span",{staticClass:"text-xs text-red-600 font-semibold mx-1"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.rebar.stirrup.spacing,expression:"beam.rebar.stirrup.spacing",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.rebar.stirrup.spacing},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.stirrup,"spacing",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]):t._e(),a("li",{staticClass:"p-2 m-1"},[a("div",{staticClass:"flex flex-row items-center"},[a("button",{staticClass:"bg-blue-700 text-white text-xs px-2 py-1 rounded-lg mr-2",on:{click:t.runEstimate}},[t._v("Process Beam")]),a("button",{staticClass:"bg-blue-700 text-white text-xs px-2 py-1 rounded-lg"},[t._v("Cancel")])])])])]),a("div",{staticClass:"w-1/2 p-5 bg-gray-700 text-yellow-200 text-xs rounded-lg mx-2"},[a("preEstimate",{attrs:{project:t.project}})],1)]),a("beamTable",{staticClass:"mt-5",attrs:{beam:t.beam}})],1)},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])}],ot={name:"beam",components:{beamTable:B,preEstimate:G},props:{project_id:{type:String,required:!0}},data:function(){return{message:null,fieldunit:null,inputunit:null,beam:{beamtype:null,category:null,tag:null,unit:null,length:null,depth:null,bredth:null,mix:{ratio:null},rebar:{cover:30,main:{bartype:null,lap:null,lap_length:null,length:null,amount:null,kg:null},mid:{bartype:null,lap:null,lap_length:null,length:null,amount:2,kg:null},top:{bartype:null,lap:null,lap_length:null,length:null,amount:2,kg:null},stirrup:{spacing:200,span:!1,bartype:null,length:null,lap_length:0,amount:null,kg:null},link:{spacing:null,span:!0,bartype:null,length:null,lap_length:0,amount:null,kg:null}}},project:{_id:null,estimate:{id:null,phase:null,section:null,items:[],comment:null,meta_data:{created:Date.parse(new Date),author:null}}}}},mounted:function(){this.$store.dispatch("loadJobRates")},computed:Object(o["a"])({},Object(l["c"])({alpha_index:"alpha_index",phases:"currentEstimatePhases",sections:"currentEstimateSections",jobrates:"jobrates",beamtypes:"beamtypes",beam_categories:"beam_categories",bartypes:"bar_types"}),{processConcreteBeam:function(){var t=9,e=this;e.beam.unit&&(e.processUnits(),e.project._id=e.project_id),e.beam.rebar.top.length=e.beam.length,e.beam.rebar.main.length=e.beam.length,e.beam.rebar.mid.length=e.beam.length,e.beam.rebar.top.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.main.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.mid.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.stirrup.amount=(e.beam.length/e.beam.rebar.stirrup.spacing).toFixed(0),e.beam.rebar.stirrup.length=(2*e.beam.bredth+2*e.beam.depth).toFixed(2);var a={category:"Concrete",mix:"manual",components:"aggregate",volume:(e.beam.length*e.beam.bredth*e.beam.depth).toFixed(3),ratio:e.beam.mix.ratio,rate:{applicable:{},rates:[]}};e.jobrates.forEach((function(t){t.key.category==a.category&&a.rate.rates.push(t.key),t.key.category==a.category&&t.key.tags.includes(e.beam.beamtype)&&t.key.tags.includes(a.mix)&&t.key.tags.includes("ff")&&(a.rate.applicable=t.key),t.key.category==a.category&&t.key.tags.includes(a.components)&&t.key.tags.includes("man")&&(a.rate.extra=t.key)})),a.item={id:$.a.genny("reinforced","concrete"),title:"Mix and Place Concrete",description:a.rate.applicable.description,ado:null,quantity:a.volume},a.subitem={id:$.a.genny("concrete","gang"),title:"Batch Aggregates",description:a.rate.extra.description,ado:null,quantity:a.volume},"belt"==e.beam.beamtype?e.beam.girth=2*e.beam.depth:e.beam.girth=2*e.beam.depth+e.beam.bredth;var r={keword:"Erect",category:"Carpentry",length:e.beam.length,width:e.beam.bredth,area:(e.beam.length*e.beam.girth).toFixed(2),rate:{rates:[],applicable:null}};e.jobrates.forEach((function(t){t.key.category==r.category&&r.rate.rates.push(t.key),t.key.category==r.category&&t.key.tags.includes(e.beam.beamtype)&&!t.key.description.includes("Make")&&(r.rate.applicable=t.key),t.key.category==r.category&&t.key.tags.includes(e.beam.beamtype)&&t.key.description.includes("Make")&&(r.rate.extra=t.key)})),r.item={id:$.a.genny("form","erect"),ado:null,quantity:r.area},r.item.title="Erect and Strike",r.item.description=r.rate.applicable.description,r.makeitem={id:$.a.genny("form","make"),ado:null,quantity:r.area},r.makeitem.title="Make Formwork",r.makeitem.description=r.rate.extra.description,"metric"==e.beam.unit?(e.beam.rebar.cover,a.item.rate=a.rate.applicable.rate.metric.production,a.item.total=a.rate.applicable.rate.metric.total,a.item.unit="m3",a.item.cost={production:(a.item.rate*a.item.quantity).toFixed(2),total:(a.item.total*a.item.quantity).toFixed(2)},a.subitem.rate=a.rate.extra.rate.metric.production,a.subitem.total=a.rate.extra.rate.metric.total,a.subitem.unit="m3",a.subitem.cost={production:(a.subitem.rate*a.subitem.quantity).toFixed(2),total:(a.subitem.total*a.subitem.quantity).toFixed(2)},r.item.rate=r.rate.applicable.rate.metric.production,r.item.total=r.rate.applicable.rate.metric.total,r.item.unit="m2",r.item.cost={production:(r.item.rate*r.item.quantity).toFixed(2),total:(r.item.total*r.item.quantity).toFixed(2)},r.makeitem.rate=r.rate.extra.rate.metric.production,r.makeitem.total=r.rate.extra.rate.metric.total,r.makeitem.unit="m2",r.makeitem.cost={production:(r.makeitem.rate*r.makeitem.quantity).toFixed(2),total:(r.makeitem.total*r.makeitem.quantity).toFixed(2)}):"imperial"==e.beam.unit&&(e.beam.rebar.cover,t/=3.125,a.volume=a.volume/27,a.item.rate=a.rate.applicable.rate.imperial.production,a.item.total=a.rate.applicable.rate.imperial.total,a.item.unit="Yd.Cu.",a.item.cost={production:(a.item.rate*a.item.quantity).toFixed(2),total:(a.item.total*a.item.quantity).toFixed(2)},a.subitem.rate=a.rate.extra.rate.imperial.production,a.subitem.total=a.rate.extra.rate.imperial.total,a.subitem.unit="Yd.Cu.",a.subitem.cost={production:(a.subitem.rate*a.subitem.quantity).toFixed(2),total:(a.subitem.total*a.subitem.quantity).toFixed(2)},r.item.rate=r.rate.applicable.rate.imperial.production,r.item.total=r.rate.applicable.rate.imperial.total,r.item.unit="Ft.Sq",r.item.cost={production:(r.item.rate*r.item.quantity).toFixed(2),total:(r.item.total*r.item.quantity).toFixed(2)},r.makeitem.rate=r.rate.extra.rate.imperial.production,r.makeitem.total=r.rate.extra.rate.imperial.total,r.makeitem.unit="Ft.Sq",r.makeitem.cost={production:(r.makeitem.rate*r.makeitem.quantity).toFixed(2),total:(r.makeitem.total*r.makeitem.quantity).toFixed(2)}),e.project.estimate.id=$.a.genny("concrete","beam"),setTimeout((function(){r.item.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(r.item)}),1e3),setTimeout((function(){r.makeitem.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(r.makeitem)}),2e3),setTimeout((function(){a.item.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(a.item)}),3e3),setTimeout((function(){a.subitem.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(a.subitem)}),3500),a.rate.rates=[],r.rate.rates=[],e.beam.formwork=r,e.beam.concrete=a}}),methods:{getRate:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",void 0);case 1:case"end":return t.stop()}}),t)})))()},processUnits:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"==t.beam.unit?(t.inputunit="m",t.fieldunit="m",t.beam.length=t.beam.length/1e3,t.beam.bredth=t.beam.bredth/1e3,t.beam.depth=t.beam.depth/1e3,t.beam.rebar.stirrup.spacing=t.beam.rebar.stirrup.spacing/1e3):"imperial"==t.beam.unit&&(t.inputunit="ft",t.fieldunit="ft",t.beam.bredth=t.beam.bredth/12,t.beam.depth=t.beam.depth/12,t.beam.rebar.stirrup.spacing=t.beam.rebar.stirrup.spacing/12),t.message="Estimate Unit Set to ".concat(t.beam.unit);case 2:case"end":return e.stop()}}),e)})))()},runEstimate:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.processConcreteBeam;case 1:case"end":return e.stop()}}),e)})))()},setInputUnit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"==t.beam.unit?(t.inputunit="mm",t.fieldunit="mm"):"imperial"==t.beam.unit&&(t.inputunit="inch",t.fieldunit="ft");case 1:case"end":return e.stop()}}),e)})))()}}},lt=ot,st=(a("008f"),Object(b["a"])(lt,it,nt,!1,null,null,null)),ut=st.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card bg-gray-400 flex flex-col border border-gray-500 p-1 mt-5 w-full h-3/4 rounded-md overflow-y-auto"},[a("p",[t._v("Structural Member Estimate")]),t.message?a("p",[t._v(t._s(t.message)+" ")]):t._e(),a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2"},[a("ul",{staticClass:"card flex flex-col bg-gray-200 p-1 rounded-lg"},[a("li",[a("table",{staticClass:"text-sm text-gray-700 font-semibold"},[a("caption",[t._v("Project")]),t._m(0),a("tr",[a("td",{staticClass:"text-xs w-1/4"},[t._v("Project Phase")]),a("td",{staticClass:"text-xs w-3/4"},[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.phase,expression:"project.estimate.phase"}],staticClass:"px-2 py-1 rounded-l-lg border hover:border-gray-500 w-full",attrs:{type:"text",placeholder:"Project Phase"},domProps:{value:t.project.estimate.phase},on:{input:function(e){e.target.composing||t.$set(t.project.estimate,"phase",e.target.value)}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.phase,expression:"project.estimate.phase"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700  px-1 py-1  rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.project.estimate,"phase",e.target.multiple?a:a[0])}}},t._l(t.phases,(function(e){return a("option",{key:e},[t._v(t._s(e))])})),0)])])])]),a("tr",[a("td",{staticClass:"text-xs"},[t._v("Section")]),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.section,expression:"project.estimate.section"}],staticClass:"px-2 py-1 rounded-l-lg border hover:border-gray-500 w-full",attrs:{type:"text",placeholder:"Section"},domProps:{value:t.project.estimate.section},on:{input:function(e){e.target.composing||t.$set(t.project.estimate,"section",e.target.value)}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.section,expression:"project.estimate.section"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-1 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.project.estimate,"section",e.target.multiple?a:a[0])}}},t._l(t.sections,(function(e){return a("option",{key:e},[t._v(t._s(e))])})),0)])])])])])]),a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold border border-gray-400"},[a("caption",[t._v("Structural Member")]),t._m(1),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"category"}},[t._v("Category")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.category,expression:"beam.category"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"category",e.target.multiple?a:a[0])}}},t._l(t.beam_categories,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),"concrete"==t.beam.category?a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Mix-Ratio")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.mix.ratio,expression:"beam.mix.ratio"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.mix,"ratio",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",hidden:""}},[t._v("Ratio")]),a("option",{attrs:{value:"1:3:6"}},[t._v("1:3:6")]),a("option",{attrs:{value:"1:3:5"}},[t._v("1:3:5")]),a("option",{attrs:{value:"1:2:4"}},[t._v("1:2:4")]),a("option",{attrs:{value:"1:2:3"}},[t._v("1:2:3")]),a("option",{attrs:{value:"1:2:2"}},[t._v("1:2:2")]),a("option",{attrs:{value:"1:1:1"}},[t._v("1:1:1")])])]):t._e()])])]),a("tr",[a("td"),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"beam-type"}},[t._v("Beam Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.beamtype,expression:"beam.beamtype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"beamtype",e.target.multiple?a:a[0])}}},t._l(t.beamtypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[t._v("Tag "),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.beam.tag,expression:"beam.tag",modifiers:{lazy:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"text"},domProps:{value:t.beam.tag},on:{change:function(e){return t.$set(t.beam,"tag",e.target.value)}}})])])])]),a("tr",[a("td"),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1",on:{focusout:function(e){return t.setInputUnit()}}},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Unit")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.unit,expression:"beam.unit"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"unit",e.target.multiple?a:a[0])}}},[a("option",[t._v("metric")]),a("option",[t._v("imperial")])])]),a("div",{staticClass:"w-1/2 ml-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Length")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.fieldunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.length,expression:"beam.length",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.length},on:{input:function(e){e.target.composing||t.$set(t.beam,"length",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Width")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.bredth,expression:"beam.bredth",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-l-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.bredth},on:{input:function(e){e.target.composing||t.$set(t.beam,"bredth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Depth")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.depth,expression:"beam.depth",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.depth},on:{input:function(e){e.target.composing||t.$set(t.beam,"depth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]),"concrete"==t.beam.category?a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold border border-gray-400"},[a("caption",[t._v("Reinforcement")]),a("tr",[a("th",[a("div",{staticClass:"flex flex-row items-center"},[a("span",{staticClass:"mx-2"},[t._v("Spanned")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.stirrup.span,expression:"beam.rebar.stirrup.span"}],attrs:{type:"checkbox"},domProps:{value:t.beam.rebar.stirrup.span,checked:Array.isArray(t.beam.rebar.stirrup.span)?t._i(t.beam.rebar.stirrup.span,t.beam.rebar.stirrup.span)>-1:t.beam.rebar.stirrup.span},on:{change:function(e){var a=t.beam.rebar.stirrup.span,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=t.beam.rebar.stirrup.span,o=t._i(a,n);r.checked?o<0&&t.$set(t.beam.rebar.stirrup,"span",a.concat([n])):o>-1&&t.$set(t.beam.rebar.stirrup,"span",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.beam.rebar.stirrup,"span",i)}}})])]),a("th")]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"topbar-type"}},[t._v("Topbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.top.bartype,expression:"beam.rebar.top.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.top,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Topbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.top.amount,expression:"beam.rebar.top.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{placeholder:"Amt",type:"text"},domProps:{value:t.beam.rebar.top.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.top,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.mid.bartype,expression:"beam.rebar.mid.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.mid,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.mid.amount,expression:"beam.rebar.mid.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"text",placeholder:"Amt."},domProps:{value:t.beam.rebar.mid.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.mid,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Miainbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.main.bartype,expression:"beam.rebar.main.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.main,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.main.amount,expression:"beam.rebar.main.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{placeholder:"Amt.",type:"text"},domProps:{value:t.beam.rebar.main.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.main,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Stirrupbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.stirrup.bartype,expression:"beam.rebar.stirrup.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.stirrup,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Spacing")]),a("span",{staticClass:"text-xs text-red-600 font-semibold mx-1"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.rebar.stirrup.spacing,expression:"beam.rebar.stirrup.spacing",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.rebar.stirrup.spacing},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.stirrup,"spacing",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]):t._e(),a("li",{staticClass:"p-2 m-1"},[a("div",{staticClass:"flex flex-row items-center"},[a("button",{staticClass:"bg-blue-700 text-white text-xs px-2 py-1 rounded-lg mr-2",on:{click:t.runEstimate}},[t._v("Process Beam")]),a("button",{staticClass:"bg-blue-700 text-white text-xs px-2 py-1 rounded-lg"},[t._v("Cancel")])])])])]),a("div",{staticClass:"w-1/2 p-5 bg-gray-700 text-yellow-200 text-xs rounded-lg mx-2"},[a("preEstimate",{attrs:{project:t.project}})],1)]),a("beamTable",{staticClass:"mt-5",attrs:{beam:t.beam}})],1)},mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])}],pt={name:"beam",components:{beamTable:B,preEstimate:G},props:{project_id:{type:String,required:!0}},data:function(){return{message:null,fieldunit:null,inputunit:null,beam:{beamtype:null,category:null,tag:null,unit:null,length:null,depth:null,bredth:null,mix:{ratio:null},rebar:{cover:30,main:{bartype:null,lap:null,lap_length:null,length:null,amount:null,kg:null},mid:{bartype:null,lap:null,lap_length:null,length:null,amount:2,kg:null},top:{bartype:null,lap:null,lap_length:null,length:null,amount:2,kg:null},stirrup:{spacing:200,span:!1,bartype:null,length:null,lap_length:0,amount:null,kg:null},link:{spacing:null,span:!0,bartype:null,length:null,lap_length:0,amount:null,kg:null}}},project:{_id:null,estimate:{id:null,phase:null,section:null,items:[],comment:null,meta_data:{created:Date.parse(new Date),author:null}}}}},mounted:function(){this.$store.dispatch("loadJobRates")},computed:Object(o["a"])({},Object(l["c"])({alpha_index:"alpha_index",phases:"currentEstimatePhases",sections:"currentEstimateSections",jobrates:"jobrates",beamtypes:"beamtypes",beam_categories:"beam_categories",bartypes:"bar_types"}),{processConcreteBeam:function(){var t=9,e=this;e.beam.unit&&(e.processUnits(),e.project._id=e.project_id),e.beam.rebar.top.length=e.beam.length,e.beam.rebar.main.length=e.beam.length,e.beam.rebar.mid.length=e.beam.length,e.beam.rebar.top.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.main.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.mid.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.stirrup.amount=(e.beam.length/e.beam.rebar.stirrup.spacing).toFixed(0),e.beam.rebar.stirrup.length=(2*e.beam.bredth+2*e.beam.depth).toFixed(2);var a={category:"Concrete",mix:"manual",components:"aggregate",volume:(e.beam.length*e.beam.bredth*e.beam.depth).toFixed(3),ratio:e.beam.mix.ratio,rate:{applicable:{},rates:[]}};e.jobrates.forEach((function(t){t.key.category==a.category&&a.rate.rates.push(t.key),t.key.category==a.category&&t.key.tags.includes(e.beam.beamtype)&&t.key.tags.includes(a.mix)&&t.key.tags.includes("ff")&&(a.rate.applicable=t.key),t.key.category==a.category&&t.key.tags.includes(a.components)&&t.key.tags.includes("man")&&(a.rate.extra=t.key)})),a.item={id:$.a.genny("reinforced","concrete"),title:"Mix and Place Concrete",description:a.rate.applicable.description,ado:null,quantity:a.volume},a.subitem={id:$.a.genny("concrete","gang"),title:"Batch Aggregates",description:a.rate.extra.description,ado:null,quantity:a.volume},"belt"==e.beam.beamtype?e.beam.girth=2*e.beam.depth:e.beam.girth=2*e.beam.depth+e.beam.bredth;var r={keword:"Erect",category:"Carpentry",length:e.beam.length,width:e.beam.bredth,area:(e.beam.length*e.beam.girth).toFixed(2),rate:{rates:[],applicable:null}};e.jobrates.forEach((function(t){t.key.category==r.category&&r.rate.rates.push(t.key),t.key.category==r.category&&t.key.tags.includes(e.beam.beamtype)&&!t.key.description.includes("Make")&&(r.rate.applicable=t.key),t.key.category==r.category&&t.key.tags.includes(e.beam.beamtype)&&t.key.description.includes("Make")&&(r.rate.extra=t.key)})),r.item={id:$.a.genny("form","erect"),ado:null,quantity:r.area},r.item.title="Erect and Strike",r.item.description=r.rate.applicable.description,r.makeitem={id:$.a.genny("form","make"),ado:null,quantity:r.area},r.makeitem.title="Make Formwork",r.makeitem.description=r.rate.extra.description,"metric"==e.beam.unit?(e.beam.rebar.cover,a.item.rate=a.rate.applicable.rate.metric.production,a.item.total=a.rate.applicable.rate.metric.total,a.item.unit="m3",a.item.cost={production:(a.item.rate*a.item.quantity).toFixed(2),total:(a.item.total*a.item.quantity).toFixed(2)},a.subitem.rate=a.rate.extra.rate.metric.production,a.subitem.total=a.rate.extra.rate.metric.total,a.subitem.unit="m3",a.subitem.cost={production:(a.subitem.rate*a.subitem.quantity).toFixed(2),total:(a.subitem.total*a.subitem.quantity).toFixed(2)},r.item.rate=r.rate.applicable.rate.metric.production,r.item.total=r.rate.applicable.rate.metric.total,r.item.unit="m2",r.item.cost={production:(r.item.rate*r.item.quantity).toFixed(2),total:(r.item.total*r.item.quantity).toFixed(2)},r.makeitem.rate=r.rate.extra.rate.metric.production,r.makeitem.total=r.rate.extra.rate.metric.total,r.makeitem.unit="m2",r.makeitem.cost={production:(r.makeitem.rate*r.makeitem.quantity).toFixed(2),total:(r.makeitem.total*r.makeitem.quantity).toFixed(2)}):"imperial"==e.beam.unit&&(e.beam.rebar.cover,t/=3.125,a.volume=a.volume/27,a.item.rate=a.rate.applicable.rate.imperial.production,a.item.total=a.rate.applicable.rate.imperial.total,a.item.unit="Yd.Cu.",a.item.cost={production:(a.item.rate*a.item.quantity).toFixed(2),total:(a.item.total*a.item.quantity).toFixed(2)},a.subitem.rate=a.rate.extra.rate.imperial.production,a.subitem.total=a.rate.extra.rate.imperial.total,a.subitem.unit="Yd.Cu.",a.subitem.cost={production:(a.subitem.rate*a.subitem.quantity).toFixed(2),total:(a.subitem.total*a.subitem.quantity).toFixed(2)},r.item.rate=r.rate.applicable.rate.imperial.production,r.item.total=r.rate.applicable.rate.imperial.total,r.item.unit="Ft.Sq",r.item.cost={production:(r.item.rate*r.item.quantity).toFixed(2),total:(r.item.total*r.item.quantity).toFixed(2)},r.makeitem.rate=r.rate.extra.rate.imperial.production,r.makeitem.total=r.rate.extra.rate.imperial.total,r.makeitem.unit="Ft.Sq",r.makeitem.cost={production:(r.makeitem.rate*r.makeitem.quantity).toFixed(2),total:(r.makeitem.total*r.makeitem.quantity).toFixed(2)}),e.project.estimate.id=$.a.genny("concrete","beam"),setTimeout((function(){r.item.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(r.item)}),1e3),setTimeout((function(){r.makeitem.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(r.makeitem)}),2e3),setTimeout((function(){a.item.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(a.item)}),3e3),setTimeout((function(){a.subitem.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(a.subitem)}),3500),a.rate.rates=[],r.rate.rates=[],e.beam.formwork=r,e.beam.concrete=a}}),methods:{getRate:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",void 0);case 1:case"end":return t.stop()}}),t)})))()},processUnits:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"==t.beam.unit?(t.inputunit="m",t.fieldunit="m",t.beam.length=t.beam.length/1e3,t.beam.bredth=t.beam.bredth/1e3,t.beam.depth=t.beam.depth/1e3,t.beam.rebar.stirrup.spacing=t.beam.rebar.stirrup.spacing/1e3):"imperial"==t.beam.unit&&(t.inputunit="ft",t.fieldunit="ft",t.beam.bredth=t.beam.bredth/12,t.beam.depth=t.beam.depth/12,t.beam.rebar.stirrup.spacing=t.beam.rebar.stirrup.spacing/12),t.message="Estimate Unit Set to ".concat(t.beam.unit);case 2:case"end":return e.stop()}}),e)})))()},runEstimate:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.processConcreteBeam;case 1:case"end":return e.stop()}}),e)})))()},setInputUnit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"==t.beam.unit?(t.inputunit="mm",t.fieldunit="mm"):"imperial"==t.beam.unit&&(t.inputunit="inch",t.fieldunit="ft");case 1:case"end":return e.stop()}}),e)})))()}}},dt=pt,bt=(a("a07f"),Object(b["a"])(dt,ct,mt,!1,null,null,null)),gt=bt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card bg-brown-100 flex flex-col border border-gray-400 p-1 mt-5 w-full h-3/4 rounded-md overflow-y-auto"},[a("p",[t._v("Structural Member Estimate")]),t.message?a("p",[t._v(t._s(t.message)+" ")]):t._e(),a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2"},[a("ul",{staticClass:"card flex flex-col bg-brown-200 p-1 rounded-lg"},[a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold"},[a("caption",[t._v("Project")]),t._m(0),a("tr",[a("td",{staticClass:"text-xs w-1/4"},[t._v("Project Phase")]),a("td",{staticClass:"text-xs w-3/4"},[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.phase,expression:"project.estimate.phase"}],staticClass:"px-2 py-1 rounded-l-lg border hover:border-gray-500 w-full",attrs:{type:"text",placeholder:"Project Phase"},domProps:{value:t.project.estimate.phase},on:{input:function(e){e.target.composing||t.$set(t.project.estimate,"phase",e.target.value)}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.phase,expression:"project.estimate.phase"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700  px-1 py-1  rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.project.estimate,"phase",e.target.multiple?a:a[0])}}},t._l(t.phases,(function(e){return a("option",{key:e},[t._v(t._s(e))])})),0)])])])]),a("tr",[a("td",{staticClass:"text-xs"},[t._v("Section")]),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.section,expression:"project.estimate.section"}],staticClass:"px-2 py-1 rounded-l-lg border hover:border-gray-500 w-full",attrs:{type:"text",placeholder:"Section"},domProps:{value:t.project.estimate.section},on:{input:function(e){e.target.composing||t.$set(t.project.estimate,"section",e.target.value)}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.section,expression:"project.estimate.section"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-1 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.project.estimate,"section",e.target.multiple?a:a[0])}}},t._l(t.sections,(function(e){return a("option",{key:e},[t._v(t._s(e))])})),0)])])])])])]),a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold border border-gray-400"},[a("caption",[t._v("Structural Member")]),t._m(1),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"category"}},[t._v("Category")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.category,expression:"beam.category"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"category",e.target.multiple?a:a[0])}}},t._l(t.beam_categories,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),"concrete"==t.beam.category?a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Mix-Ratio")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.mix.ratio,expression:"beam.mix.ratio"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.mix,"ratio",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",hidden:""}},[t._v("Ratio")]),a("option",{attrs:{value:"1:3:6"}},[t._v("1:3:6")]),a("option",{attrs:{value:"1:3:5"}},[t._v("1:3:5")]),a("option",{attrs:{value:"1:2:4"}},[t._v("1:2:4")]),a("option",{attrs:{value:"1:2:3"}},[t._v("1:2:3")]),a("option",{attrs:{value:"1:2:2"}},[t._v("1:2:2")]),a("option",{attrs:{value:"1:1:1"}},[t._v("1:1:1")])])]):t._e()])])]),a("tr",[a("td"),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"beam-type"}},[t._v("Beam Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.beamtype,expression:"beam.beamtype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"beamtype",e.target.multiple?a:a[0])}}},t._l(t.beamtypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[t._v("Tag "),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.beam.tag,expression:"beam.tag",modifiers:{lazy:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"text"},domProps:{value:t.beam.tag},on:{change:function(e){return t.$set(t.beam,"tag",e.target.value)}}})])])])]),a("tr",[a("td"),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1",on:{focusout:function(e){return t.setInputUnit()}}},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Unit")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.unit,expression:"beam.unit"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"unit",e.target.multiple?a:a[0])}}},[a("option",[t._v("metric")]),a("option",[t._v("imperial")])])]),a("div",{staticClass:"w-1/2 ml-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Length")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.fieldunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.length,expression:"beam.length",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.length},on:{input:function(e){e.target.composing||t.$set(t.beam,"length",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Width")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.bredth,expression:"beam.bredth",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-l-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.bredth},on:{input:function(e){e.target.composing||t.$set(t.beam,"bredth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Depth")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.depth,expression:"beam.depth",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.depth},on:{input:function(e){e.target.composing||t.$set(t.beam,"depth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]),"concrete"==t.beam.category?a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold border border-gray-400"},[a("caption",[t._v("Reinforcement")]),a("tr",[a("th",[a("div",{staticClass:"flex flex-row items-center"},[a("span",{staticClass:"mx-2"},[t._v("Spanned")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.stirrup.span,expression:"beam.rebar.stirrup.span"}],attrs:{type:"checkbox"},domProps:{value:t.beam.rebar.stirrup.span,checked:Array.isArray(t.beam.rebar.stirrup.span)?t._i(t.beam.rebar.stirrup.span,t.beam.rebar.stirrup.span)>-1:t.beam.rebar.stirrup.span},on:{change:function(e){var a=t.beam.rebar.stirrup.span,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=t.beam.rebar.stirrup.span,o=t._i(a,n);r.checked?o<0&&t.$set(t.beam.rebar.stirrup,"span",a.concat([n])):o>-1&&t.$set(t.beam.rebar.stirrup,"span",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.beam.rebar.stirrup,"span",i)}}})])]),a("th")]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"topbar-type"}},[t._v("Topbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.top.bartype,expression:"beam.rebar.top.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.top,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Topbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.top.amount,expression:"beam.rebar.top.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{placeholder:"Amt",type:"text"},domProps:{value:t.beam.rebar.top.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.top,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.mid.bartype,expression:"beam.rebar.mid.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.mid,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.mid.amount,expression:"beam.rebar.mid.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"text",placeholder:"Amt."},domProps:{value:t.beam.rebar.mid.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.mid,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Miainbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.main.bartype,expression:"beam.rebar.main.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.main,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.main.amount,expression:"beam.rebar.main.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{placeholder:"Amt.",type:"text"},domProps:{value:t.beam.rebar.main.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.main,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Stirrupbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.stirrup.bartype,expression:"beam.rebar.stirrup.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.stirrup,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Spacing")]),a("span",{staticClass:"text-xs text-red-600 font-semibold mx-1"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.rebar.stirrup.spacing,expression:"beam.rebar.stirrup.spacing",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.rebar.stirrup.spacing},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.stirrup,"spacing",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]):t._e(),a("li",{staticClass:"p-2 m-1"},[a("div",{staticClass:"flex flex-row items-center"},[a("button",{staticClass:"bg-blue-700 text-white text-xs px-2 py-1 rounded-lg mr-2",on:{click:t.runEstimate}},[t._v("Process Beam")]),a("button",{staticClass:"bg-blue-700 text-white text-xs px-2 py-1 rounded-lg"},[t._v("Cancel")])])])])]),a("div",{staticClass:"w-1/2 p-5 bg-gray-700 text-yellow-200 text-xs rounded-lg mx-2"},[a("preEstimate",{attrs:{project:t.project}})],1)]),a("beamTable",{staticClass:"mt-5",attrs:{beam:t.beam}})],1)},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])}],yt={name:"beam",components:{beamTable:B,preEstimate:G},props:{project_id:{type:String,required:!0}},data:function(){return{message:null,fieldunit:null,inputunit:null,beam:{beamtype:null,category:null,tag:null,unit:null,length:null,depth:null,bredth:null,mix:{ratio:null},rebar:{cover:30,main:{bartype:null,lap:null,lap_length:null,length:null,amount:null,kg:null},mid:{bartype:null,lap:null,lap_length:null,length:null,amount:2,kg:null},top:{bartype:null,lap:null,lap_length:null,length:null,amount:2,kg:null},stirrup:{spacing:200,span:!1,bartype:null,length:null,lap_length:0,amount:null,kg:null},link:{spacing:null,span:!0,bartype:null,length:null,lap_length:0,amount:null,kg:null}}},project:{_id:null,estimate:{id:null,phase:null,section:null,items:[],comment:null,meta_data:{created:Date.parse(new Date),author:null}}}}},mounted:function(){this.$store.dispatch("loadJobRates")},computed:Object(o["a"])({},Object(l["c"])({alpha_index:"alpha_index",phases:"currentEstimatePhases",sections:"currentEstimateSections",jobrates:"jobrates",beamtypes:"beamtypes",beam_categories:"beam_categories",bartypes:"bar_types"}),{processConcreteBeam:function(){var t=9,e=this;e.beam.unit&&(e.processUnits(),e.project._id=e.project_id),e.beam.rebar.top.length=e.beam.length,e.beam.rebar.main.length=e.beam.length,e.beam.rebar.mid.length=e.beam.length,e.beam.rebar.top.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.main.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.mid.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.stirrup.amount=(e.beam.length/e.beam.rebar.stirrup.spacing).toFixed(0),e.beam.rebar.stirrup.length=(2*e.beam.bredth+2*e.beam.depth).toFixed(2);var a={category:"Concrete",mix:"manual",components:"aggregate",volume:(e.beam.length*e.beam.bredth*e.beam.depth).toFixed(3),ratio:e.beam.mix.ratio,rate:{applicable:{},rates:[]}};e.jobrates.forEach((function(t){t.key.category==a.category&&a.rate.rates.push(t.key),t.key.category==a.category&&t.key.tags.includes(e.beam.beamtype)&&t.key.tags.includes(a.mix)&&t.key.tags.includes("ff")&&(a.rate.applicable=t.key),t.key.category==a.category&&t.key.tags.includes(a.components)&&t.key.tags.includes("man")&&(a.rate.extra=t.key)})),a.item={id:$.a.genny("reinforced","concrete"),title:"Mix and Place Concrete",description:a.rate.applicable.description,ado:null,quantity:a.volume},a.subitem={id:$.a.genny("concrete","gang"),title:"Batch Aggregates",description:a.rate.extra.description,ado:null,quantity:a.volume},"belt"==e.beam.beamtype?e.beam.girth=2*e.beam.depth:e.beam.girth=2*e.beam.depth+e.beam.bredth;var r={keword:"Erect",category:"Carpentry",length:e.beam.length,width:e.beam.bredth,area:(e.beam.length*e.beam.girth).toFixed(2),rate:{rates:[],applicable:null}};e.jobrates.forEach((function(t){t.key.category==r.category&&r.rate.rates.push(t.key),t.key.category==r.category&&t.key.tags.includes(e.beam.beamtype)&&!t.key.description.includes("Make")&&(r.rate.applicable=t.key),t.key.category==r.category&&t.key.tags.includes(e.beam.beamtype)&&t.key.description.includes("Make")&&(r.rate.extra=t.key)})),r.item={id:$.a.genny("form","erect"),ado:null,quantity:r.area},r.item.title="Erect and Strike",r.item.description=r.rate.applicable.description,r.makeitem={id:$.a.genny("form","make"),ado:null,quantity:r.area},r.makeitem.title="Make Formwork",r.makeitem.description=r.rate.extra.description,"metric"==e.beam.unit?(e.beam.rebar.cover,a.item.rate=a.rate.applicable.rate.metric.production,a.item.total=a.rate.applicable.rate.metric.total,a.item.unit="m3",a.item.cost={production:(a.item.rate*a.item.quantity).toFixed(2),total:(a.item.total*a.item.quantity).toFixed(2)},a.subitem.rate=a.rate.extra.rate.metric.production,a.subitem.total=a.rate.extra.rate.metric.total,a.subitem.unit="m3",a.subitem.cost={production:(a.subitem.rate*a.subitem.quantity).toFixed(2),total:(a.subitem.total*a.subitem.quantity).toFixed(2)},r.item.rate=r.rate.applicable.rate.metric.production,r.item.total=r.rate.applicable.rate.metric.total,r.item.unit="m2",r.item.cost={production:(r.item.rate*r.item.quantity).toFixed(2),total:(r.item.total*r.item.quantity).toFixed(2)},r.makeitem.rate=r.rate.extra.rate.metric.production,r.makeitem.total=r.rate.extra.rate.metric.total,r.makeitem.unit="m2",r.makeitem.cost={production:(r.makeitem.rate*r.makeitem.quantity).toFixed(2),total:(r.makeitem.total*r.makeitem.quantity).toFixed(2)}):"imperial"==e.beam.unit&&(e.beam.rebar.cover,t/=3.125,a.volume=a.volume/27,a.item.rate=a.rate.applicable.rate.imperial.production,a.item.total=a.rate.applicable.rate.imperial.total,a.item.unit="Yd.Cu.",a.item.cost={production:(a.item.rate*a.item.quantity).toFixed(2),total:(a.item.total*a.item.quantity).toFixed(2)},a.subitem.rate=a.rate.extra.rate.imperial.production,a.subitem.total=a.rate.extra.rate.imperial.total,a.subitem.unit="Yd.Cu.",a.subitem.cost={production:(a.subitem.rate*a.subitem.quantity).toFixed(2),total:(a.subitem.total*a.subitem.quantity).toFixed(2)},r.item.rate=r.rate.applicable.rate.imperial.production,r.item.total=r.rate.applicable.rate.imperial.total,r.item.unit="Ft.Sq",r.item.cost={production:(r.item.rate*r.item.quantity).toFixed(2),total:(r.item.total*r.item.quantity).toFixed(2)},r.makeitem.rate=r.rate.extra.rate.imperial.production,r.makeitem.total=r.rate.extra.rate.imperial.total,r.makeitem.unit="Ft.Sq",r.makeitem.cost={production:(r.makeitem.rate*r.makeitem.quantity).toFixed(2),total:(r.makeitem.total*r.makeitem.quantity).toFixed(2)}),e.project.estimate.id=$.a.genny("concrete","beam"),setTimeout((function(){r.item.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(r.item)}),1e3),setTimeout((function(){r.makeitem.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(r.makeitem)}),2e3),setTimeout((function(){a.item.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(a.item)}),3e3),setTimeout((function(){a.subitem.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(a.subitem)}),3500),a.rate.rates=[],r.rate.rates=[],e.beam.formwork=r,e.beam.concrete=a}}),methods:{getRate:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",void 0);case 1:case"end":return t.stop()}}),t)})))()},processUnits:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"==t.beam.unit?(t.inputunit="m",t.fieldunit="m",t.beam.length=t.beam.length/1e3,t.beam.bredth=t.beam.bredth/1e3,t.beam.depth=t.beam.depth/1e3,t.beam.rebar.stirrup.spacing=t.beam.rebar.stirrup.spacing/1e3):"imperial"==t.beam.unit&&(t.inputunit="ft",t.fieldunit="ft",t.beam.bredth=t.beam.bredth/12,t.beam.depth=t.beam.depth/12,t.beam.rebar.stirrup.spacing=t.beam.rebar.stirrup.spacing/12),t.message="Estimate Unit Set to ".concat(t.beam.unit);case 2:case"end":return e.stop()}}),e)})))()},runEstimate:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.processConcreteBeam;case 1:case"end":return e.stop()}}),e)})))()},setInputUnit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"==t.beam.unit?(t.inputunit="mm",t.fieldunit="mm"):"imperial"==t.beam.unit&&(t.inputunit="inch",t.fieldunit="ft");case 1:case"end":return e.stop()}}),e)})))()}}},xt=yt,ht=(a("d51c"),Object(b["a"])(xt,vt,ft,!1,null,null,null)),_t=ht.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card bg-purple-100 flex flex-col border border-gray-400 p-1 mt-5 w-full h-3/4 rounded-md overflow-y-auto"},[a("p",[t._v("Structural Member Estimate")]),t.message?a("p",[t._v(t._s(t.message)+" ")]):t._e(),a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2"},[a("ul",{staticClass:"card flex flex-col bg-purple-200 p-1 rounded-lg"},[a("li",[a("table",{staticClass:"text-sm text-purple-700 font-semibold"},[a("caption",[t._v("Project")]),t._m(0),a("tr",[a("td",{staticClass:"text-xs w-1/4"},[t._v("Project Phase")]),a("td",{staticClass:"text-xs w-3/4"},[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.phase,expression:"project.estimate.phase"}],staticClass:"px-2 py-1 rounded-l-lg border hover:border-gray-500 w-full",attrs:{type:"text",placeholder:"Project Phase"},domProps:{value:t.project.estimate.phase},on:{input:function(e){e.target.composing||t.$set(t.project.estimate,"phase",e.target.value)}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.phase,expression:"project.estimate.phase"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700  px-1 py-1  rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.project.estimate,"phase",e.target.multiple?a:a[0])}}},t._l(t.phases,(function(e){return a("option",{key:e},[t._v(t._s(e))])})),0)])])])]),a("tr",[a("td",{staticClass:"text-xs"},[t._v("Section")]),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.section,expression:"project.estimate.section"}],staticClass:"px-2 py-1 rounded-l-lg border hover:border-gray-500 w-full",attrs:{type:"text",placeholder:"Section"},domProps:{value:t.project.estimate.section},on:{input:function(e){e.target.composing||t.$set(t.project.estimate,"section",e.target.value)}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.project.estimate.section,expression:"project.estimate.section"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-1 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.project.estimate,"section",e.target.multiple?a:a[0])}}},t._l(t.sections,(function(e){return a("option",{key:e},[t._v(t._s(e))])})),0)])])])])])]),a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold border border-gray-400"},[a("caption",[t._v("Structural Member")]),t._m(1),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"category"}},[t._v("Category")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.category,expression:"beam.category"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"category",e.target.multiple?a:a[0])}}},t._l(t.beam_categories,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),"concrete"==t.beam.category?a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Mix-Ratio")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.mix.ratio,expression:"beam.mix.ratio"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.mix,"ratio",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",hidden:""}},[t._v("Ratio")]),a("option",{attrs:{value:"1:3:6"}},[t._v("1:3:6")]),a("option",{attrs:{value:"1:3:5"}},[t._v("1:3:5")]),a("option",{attrs:{value:"1:2:4"}},[t._v("1:2:4")]),a("option",{attrs:{value:"1:2:3"}},[t._v("1:2:3")]),a("option",{attrs:{value:"1:2:2"}},[t._v("1:2:2")]),a("option",{attrs:{value:"1:1:1"}},[t._v("1:1:1")])])]):t._e()])])]),a("tr",[a("td"),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"beam-type"}},[t._v("Beam Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.beamtype,expression:"beam.beamtype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"beamtype",e.target.multiple?a:a[0])}}},t._l(t.beamtypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[t._v("Tag "),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.beam.tag,expression:"beam.tag",modifiers:{lazy:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"text"},domProps:{value:t.beam.tag},on:{change:function(e){return t.$set(t.beam,"tag",e.target.value)}}})])])])]),a("tr",[a("td"),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1",on:{focusout:function(e){return t.setInputUnit()}}},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Unit")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.unit,expression:"beam.unit"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-walltype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam,"unit",e.target.multiple?a:a[0])}}},[a("option",[t._v("metric")]),a("option",[t._v("imperial")])])]),a("div",{staticClass:"w-1/2 ml-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Length")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.fieldunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.length,expression:"beam.length",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.length},on:{input:function(e){e.target.composing||t.$set(t.beam,"length",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Width")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.bredth,expression:"beam.bredth",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-l-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.bredth},on:{input:function(e){e.target.composing||t.$set(t.beam,"bredth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"w-1/2 ml-1"},[a("span",{staticClass:"text-xs font-semibold ml-2"},[t._v("Depth")]),a("span",{staticClass:"text-xs text-red-600 font-semibold ml-2"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.depth,expression:"beam.depth",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.depth},on:{input:function(e){e.target.composing||t.$set(t.beam,"depth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]),"concrete"==t.beam.category?a("li",[a("table",{staticClass:"text-sm text-teal-700 font-semibold border border-gray-400"},[a("caption",[t._v("Reinforcement")]),a("tr",[a("th",[a("div",{staticClass:"flex flex-row items-center"},[a("span",{staticClass:"mx-2"},[t._v("Spanned")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.stirrup.span,expression:"beam.rebar.stirrup.span"}],attrs:{type:"checkbox"},domProps:{value:t.beam.rebar.stirrup.span,checked:Array.isArray(t.beam.rebar.stirrup.span)?t._i(t.beam.rebar.stirrup.span,t.beam.rebar.stirrup.span)>-1:t.beam.rebar.stirrup.span},on:{change:function(e){var a=t.beam.rebar.stirrup.span,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=t.beam.rebar.stirrup.span,o=t._i(a,n);r.checked?o<0&&t.$set(t.beam.rebar.stirrup,"span",a.concat([n])):o>-1&&t.$set(t.beam.rebar.stirrup,"span",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.beam.rebar.stirrup,"span",i)}}})])]),a("th")]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"topbar-type"}},[t._v("Topbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.top.bartype,expression:"beam.rebar.top.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2 rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.top,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Topbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.top.amount,expression:"beam.rebar.top.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{placeholder:"Amt",type:"text"},domProps:{value:t.beam.rebar.top.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.top,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.mid.bartype,expression:"beam.rebar.mid.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.mid,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.mid.amount,expression:"beam.rebar.mid.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"text",placeholder:"Amt."},domProps:{value:t.beam.rebar.mid.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.mid,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 mr-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Miainbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.main.bartype,expression:"beam.rebar.main.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.main,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Midbar Amt.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.main.amount,expression:"beam.rebar.main.amount"}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{placeholder:"Amt.",type:"text"},domProps:{value:t.beam.rebar.main.amount},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.main,"amount",e.target.value)}}})])])])]),a("tr",[a("td",{staticClass:"text-xs"}),a("td",[a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Stirrupbar Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.beam.rebar.stirrup.bartype,expression:"beam.rebar.stirrup.bartype"}],staticClass:"block w-full bg-gray-200 hover:bg-gray-400 border border-gray-200 text-gray-700 py-1 px-2 pr-2  rounded-l-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.beam.rebar.stirrup,"bartype",e.target.multiple?a:a[0])}}},t._l(t.bartypes,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),a("div",{staticClass:"w-1/2 ml-1"},[a("label",{staticClass:"text-xs",attrs:{for:"ratio"}},[t._v("Spacing")]),a("span",{staticClass:"text-xs text-red-600 font-semibold mx-1"},[t._v(t._s(t.inputunit))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beam.rebar.stirrup.spacing,expression:"beam.rebar.stirrup.spacing",modifiers:{number:!0}}],staticClass:"px-2 py-1 w-full rounded-r-lg border hover:border-gray-500",attrs:{type:"number"},domProps:{value:t.beam.rebar.stirrup.spacing},on:{input:function(e){e.target.composing||t.$set(t.beam.rebar.stirrup,"spacing",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]):t._e(),a("li",{staticClass:"p-2 m-1"},[a("div",{staticClass:"flex flex-row items-center"},[a("button",{staticClass:"bg-blue-700 text-white text-xs px-2 py-1 rounded-lg mr-2",on:{click:t.runEstimate}},[t._v("Process Beam")]),a("button",{staticClass:"bg-blue-700 text-white text-xs px-2 py-1 rounded-lg"},[t._v("Cancel")])])])])]),a("div",{staticClass:"w-1/2 p-5 bg-gray-700 text-yellow-200 text-xs rounded-lg mx-2"},[a("preEstimate",{attrs:{project:t.project}})],1)]),a("beamTable",{staticClass:"mt-5",attrs:{beam:t.beam}})],1)},Ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),a("th")])}],kt={name:"beam",components:{beamTable:B,preEstimate:G},props:{project_id:{type:String,required:!0}},data:function(){return{message:null,fieldunit:null,inputunit:null,beam:{beamtype:null,category:null,tag:null,unit:null,length:null,depth:null,bredth:null,mix:{ratio:null},rebar:{cover:30,main:{bartype:null,lap:null,lap_length:null,length:null,amount:null,kg:null},mid:{bartype:null,lap:null,lap_length:null,length:null,amount:2,kg:null},top:{bartype:null,lap:null,lap_length:null,length:null,amount:2,kg:null},stirrup:{spacing:200,span:!1,bartype:null,length:null,lap_length:0,amount:null,kg:null},link:{spacing:null,span:!0,bartype:null,length:null,lap_length:0,amount:null,kg:null}}},project:{_id:null,estimate:{id:null,phase:null,section:null,items:[],comment:null,meta_data:{created:Date.parse(new Date),author:null}}}}},mounted:function(){this.$store.dispatch("loadJobRates")},computed:Object(o["a"])({},Object(l["c"])({alpha_index:"alpha_index",phases:"currentEstimatePhases",sections:"currentEstimateSections",jobrates:"jobrates",beamtypes:"beamtypes",beam_categories:"beam_categories",bartypes:"bar_types"}),{processConcreteBeam:function(){var t=9,e=this;e.beam.unit&&(e.processUnits(),e.project._id=e.project_id),e.beam.rebar.top.length=e.beam.length,e.beam.rebar.main.length=e.beam.length,e.beam.rebar.mid.length=e.beam.length,e.beam.rebar.top.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.main.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.mid.lap=(e.beam.length/t).toFixed(2),e.beam.rebar.stirrup.amount=(e.beam.length/e.beam.rebar.stirrup.spacing).toFixed(0),e.beam.rebar.stirrup.length=(2*e.beam.bredth+2*e.beam.depth).toFixed(2);var a={category:"Concrete",mix:"manual",components:"aggregate",volume:(e.beam.length*e.beam.bredth*e.beam.depth).toFixed(3),ratio:e.beam.mix.ratio,rate:{applicable:{},rates:[]}};e.jobrates.forEach((function(t){t.key.category==a.category&&a.rate.rates.push(t.key),t.key.category==a.category&&t.key.tags.includes(e.beam.beamtype)&&t.key.tags.includes(a.mix)&&t.key.tags.includes("ff")&&(a.rate.applicable=t.key),t.key.category==a.category&&t.key.tags.includes(a.components)&&t.key.tags.includes("man")&&(a.rate.extra=t.key)})),a.item={id:$.a.genny("reinforced","concrete"),title:"Mix and Place Concrete",description:a.rate.applicable.description,ado:null,quantity:a.volume},a.subitem={id:$.a.genny("concrete","gang"),title:"Batch Aggregates",description:a.rate.extra.description,ado:null,quantity:a.volume},"belt"==e.beam.beamtype?e.beam.girth=2*e.beam.depth:e.beam.girth=2*e.beam.depth+e.beam.bredth;var r={keword:"Erect",category:"Carpentry",length:e.beam.length,width:e.beam.bredth,area:(e.beam.length*e.beam.girth).toFixed(2),rate:{rates:[],applicable:null}};e.jobrates.forEach((function(t){t.key.category==r.category&&r.rate.rates.push(t.key),t.key.category==r.category&&t.key.tags.includes(e.beam.beamtype)&&!t.key.description.includes("Make")&&(r.rate.applicable=t.key),t.key.category==r.category&&t.key.tags.includes(e.beam.beamtype)&&t.key.description.includes("Make")&&(r.rate.extra=t.key)})),r.item={id:$.a.genny("form","erect"),ado:null,quantity:r.area},r.item.title="Erect and Strike",r.item.description=r.rate.applicable.description,r.makeitem={id:$.a.genny("form","make"),ado:null,quantity:r.area},r.makeitem.title="Make Formwork",r.makeitem.description=r.rate.extra.description,"metric"==e.beam.unit?(e.beam.rebar.cover,a.item.rate=a.rate.applicable.rate.metric.production,a.item.total=a.rate.applicable.rate.metric.total,a.item.unit="m3",a.item.cost={production:(a.item.rate*a.item.quantity).toFixed(2),total:(a.item.total*a.item.quantity).toFixed(2)},a.subitem.rate=a.rate.extra.rate.metric.production,a.subitem.total=a.rate.extra.rate.metric.total,a.subitem.unit="m3",a.subitem.cost={production:(a.subitem.rate*a.subitem.quantity).toFixed(2),total:(a.subitem.total*a.subitem.quantity).toFixed(2)},r.item.rate=r.rate.applicable.rate.metric.production,r.item.total=r.rate.applicable.rate.metric.total,r.item.unit="m2",r.item.cost={production:(r.item.rate*r.item.quantity).toFixed(2),total:(r.item.total*r.item.quantity).toFixed(2)},r.makeitem.rate=r.rate.extra.rate.metric.production,r.makeitem.total=r.rate.extra.rate.metric.total,r.makeitem.unit="m2",r.makeitem.cost={production:(r.makeitem.rate*r.makeitem.quantity).toFixed(2),total:(r.makeitem.total*r.makeitem.quantity).toFixed(2)}):"imperial"==e.beam.unit&&(e.beam.rebar.cover,t/=3.125,a.volume=a.volume/27,a.item.rate=a.rate.applicable.rate.imperial.production,a.item.total=a.rate.applicable.rate.imperial.total,a.item.unit="Yd.Cu.",a.item.cost={production:(a.item.rate*a.item.quantity).toFixed(2),total:(a.item.total*a.item.quantity).toFixed(2)},a.subitem.rate=a.rate.extra.rate.imperial.production,a.subitem.total=a.rate.extra.rate.imperial.total,a.subitem.unit="Yd.Cu.",a.subitem.cost={production:(a.subitem.rate*a.subitem.quantity).toFixed(2),total:(a.subitem.total*a.subitem.quantity).toFixed(2)},r.item.rate=r.rate.applicable.rate.imperial.production,r.item.total=r.rate.applicable.rate.imperial.total,r.item.unit="Ft.Sq",r.item.cost={production:(r.item.rate*r.item.quantity).toFixed(2),total:(r.item.total*r.item.quantity).toFixed(2)},r.makeitem.rate=r.rate.extra.rate.imperial.production,r.makeitem.total=r.rate.extra.rate.imperial.total,r.makeitem.unit="Ft.Sq",r.makeitem.cost={production:(r.makeitem.rate*r.makeitem.quantity).toFixed(2),total:(r.makeitem.total*r.makeitem.quantity).toFixed(2)}),e.project.estimate.id=$.a.genny("concrete","beam"),setTimeout((function(){r.item.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(r.item)}),1e3),setTimeout((function(){r.makeitem.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(r.makeitem)}),2e3),setTimeout((function(){a.item.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(a.item)}),3e3),setTimeout((function(){a.subitem.item_no=e.alpha_index[e.project.estimate.items.length],e.project.estimate.items.push(a.subitem)}),3500),a.rate.rates=[],r.rate.rates=[],e.beam.formwork=r,e.beam.concrete=a}}),methods:{getRate:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",void 0);case 1:case"end":return t.stop()}}),t)})))()},processUnits:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"==t.beam.unit?(t.inputunit="m",t.fieldunit="m",t.beam.length=t.beam.length/1e3,t.beam.bredth=t.beam.bredth/1e3,t.beam.depth=t.beam.depth/1e3,t.beam.rebar.stirrup.spacing=t.beam.rebar.stirrup.spacing/1e3):"imperial"==t.beam.unit&&(t.inputunit="ft",t.fieldunit="ft",t.beam.bredth=t.beam.bredth/12,t.beam.depth=t.beam.depth/12,t.beam.rebar.stirrup.spacing=t.beam.rebar.stirrup.spacing/12),t.message="Estimate Unit Set to ".concat(t.beam.unit);case 2:case"end":return e.stop()}}),e)})))()},runEstimate:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.processConcreteBeam;case 1:case"end":return e.stop()}}),e)})))()},setInputUnit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"metric"==t.beam.unit?(t.inputunit="mm",t.fieldunit="mm"):"imperial"==t.beam.unit&&(t.inputunit="inch",t.fieldunit="ft");case 1:case"end":return e.stop()}}),e)})))()}}},jt=kt,$t=(a("b4f9"),Object(b["a"])(jt,wt,Ct,!1,null,null,null)),Pt=$t.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Transition",{attrs:{name:"fade"}},[t.showing?a("div",{staticClass:"inset-0 w-full h-450px flex items-center justify-center bg-semi-75 overflow-y-auto",on:{click:function(e){return e.target!==e.currentTarget?null:t.close(e)}}},[a("div",{staticClass:"w-full max-w-2xl bg-white shadow-lg rounded-lg p-8"},[a("button",{staticClass:"absolute top-0 right-0 text-xl text-gray-500 my-2 mx-4",attrs:{"aria-label":"close"},on:{click:function(e){return e.preventDefault(),t.close(e)}}},[t._v("  ")]),t._t("default")],2)]):t._e()])},Et=[],Ft={name:"Emodal",props:{showing:{required:!0,type:Boolean}},watch:{showing:function(t){if(t)return document.querySelector("body").classList.add("overflow-hidden");document.querySelector("body").classList.remove("overflow-hidden")}},methods:{close:function(){this.$emit("close")}}},qt=Ft,Rt=(a("9593"),Object(b["a"])(qt,At,Et,!1,null,"0c537a3a",null)),Nt=Rt.exports,St={name:"project-view",components:{rateTable:v,tableView:w,wallEstimate:F,Emodal:Nt,foundation:Q,beam:rt,column:ut,slab:gt,floor:_t,roof:Pt},computed:Object(o["a"])({},Object(l["c"])({project:"project",estimates:"estimates",jobrates:"jobrates"})),data:function(){return{title:null,showing:!1,chart_title:"Phase Items",address:null,id:this.$route.params.id.replace(":",""),console:{foundation:!1,wall:!1,beam:!1,slab:!1,floor:!1,roof:!1},item:{iid:null,item_no:null,title:null,description:null,quantity:null,unit:null,rate:null,total:null},estimate:{_id:null,item:{},phase:null,section:{},comment:null,metadata:{}},url:"http://"+location.hostname+":5984/wkm_projects/",ui:{header:!1,message:{text:null,css:null}},wall:{category:null,tag:null,unit:null,length:null,height:null,thickness:null,area:null,rate:null},ru:null}},mounted:function(){var t=this;setTimeout((function(){t.project?t.setMessage("Projects Loaded Sucessfully.","success"):t.setMessage("Error projects unavailable!","error")}),1e3)},methods:{manageConsole:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.showing=!e.showing,e.console={foundation:!1,wall:!1,beam:!1,slab:!1,floor:!1,roof:!1},e.console[t]=!0,e.title=t;case 4:case"end":return a.stop()}}),a)})))()},setMessage:function(t,e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return"success"==e?(a.ui.message.text=t,a.ui.message.css="text-sm text-green-500 p-5 m-5 border border-green-300"):"error"==e&&(a.ui.message.text=t,a.ui.message.css="text-sm text-red-500 p-5 m-5 border border-red-300"),r.abrupt("return",void 0);case 2:case"end":return r.stop()}}),r)})))()},saveProject:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.address.location=t.location,t.$store.dispatch("getLocation",t.location);case 2:case"end":return e.stop()}}),e)})))()}}},Tt=St,Ot=(a("1920"),Object(b["a"])(Tt,r,i,!1,null,"55c12b62",null));e["default"]=Ot.exports},b0c0:function(t,e,a){var r=a("83ab"),i=a("9bf2").f,n=Function.prototype,o=n.toString,l=/^\s*function ([^ (]*)/,s="name";r&&!(s in n)&&i(n,s,{configurable:!0,get:function(){try{return o.call(this).match(l)[1]}catch(t){return""}}})},b4f9:function(t,e,a){"use strict";var r=a("5d23"),i=a.n(r);i.a},b680:function(t,e,a){"use strict";var r=a("23e7"),i=a("a691"),n=a("408a"),o=a("1148"),l=a("d039"),s=1..toFixed,u=Math.floor,c=function(t,e,a){return 0===e?a:e%2===1?c(t,e-1,a*t):c(t*t,e/2,a)},m=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},p=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){s.call({})}));r({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,a,r,l,s=n(this),p=i(t),d=[0,0,0,0,0,0],b="",g="0",v=function(t,e){var a=-1,r=e;while(++a<6)r+=t*d[a],d[a]=r%1e7,r=u(r/1e7)},f=function(t){var e=6,a=0;while(--e>=0)a+=d[e],d[e]=u(a/t),a=a%t*1e7},y=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==d[t]){var a=String(d[t]);e=""===e?a:e+o.call("0",7-a.length)+a}return e};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(b="-",s=-s),s>1e-21)if(e=m(s*c(2,69,1))-69,a=e<0?s*c(2,-e,1):s/c(2,e,1),a*=4503599627370496,e=52-e,e>0){v(0,a),r=p;while(r>=7)v(1e7,0),r-=7;v(c(10,r,1),0),r=e-1;while(r>=23)f(1<<23),r-=23;f(1<<r),v(1,1),f(2),g=y()}else v(0,a),v(1<<-e,0),g=y()+o.call("0",p);return p>0?(l=g.length,g=b+(l<=p?"0."+o.call("0",p-l)+g:g.slice(0,l-p)+"."+g.slice(l-p))):g=b+g,g}})},bda5:function(t,e,a){"use strict";var r=a("0dfb"),i=a.n(r);i.a},c595:function(t,e,a){"use strict";var r=a("33da"),i=a.n(r);i.a},caad:function(t,e,a){"use strict";var r=a("23e7"),i=a("4d64").includes,n=a("44d2"),o=a("ae40"),l=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!l},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},d51c:function(t,e,a){"use strict";var r=a("a0a5"),i=a.n(r);i.a},d58f:function(t,e,a){var r=a("1c0b"),i=a("7b0b"),n=a("44ad"),o=a("50c4"),l=function(t){return function(e,a,l,s){r(a);var u=i(e),c=n(u),m=o(u.length),p=t?m-1:0,d=t?-1:1;if(l<2)while(1){if(p in c){s=c[p],p+=d;break}if(p+=d,t?p<0:m<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:m>p;p+=d)p in c&&(s=a(s,c[p],p,u));return s}};t.exports={left:l(!1),right:l(!0)}},d784:function(t,e,a){"use strict";a("ac1f");var r=a("6eeb"),i=a("d039"),n=a("b622"),o=a("9263"),l=a("9112"),s=n("species"),u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),m=n("replace"),p=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),d=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,m){var b=n(t),g=!i((function(){var e={};return e[b]=function(){return 7},7!=""[t](e)})),v=g&&!i((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[s]=function(){return a},a.flags="",a[b]=/./[b]),a.exec=function(){return e=!0,null},a[b](""),!e}));if(!g||!v||"replace"===t&&(!u||!c||p)||"split"===t&&!d){var f=/./[b],y=a(b,""[t],(function(t,e,a,r,i){return e.exec===o?g&&!i?{done:!0,value:f.call(e,a,r)}:{done:!0,value:t.call(a,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),x=y[0],h=y[1];r(String.prototype,t,x),r(RegExp.prototype,b,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)})}m&&l(RegExp.prototype[b],"sham",!0)}},ef09:function(t,e,a){"use strict";var r=a("72f7"),i=a.n(r);i.a},fb6a:function(t,e,a){"use strict";var r=a("23e7"),i=a("861d"),n=a("e8b5"),o=a("23cb"),l=a("50c4"),s=a("fc6a"),u=a("8418"),c=a("b622"),m=a("1dde"),p=a("ae40"),d=m("slice"),b=p("slice",{ACCESSORS:!0,0:0,1:2}),g=c("species"),v=[].slice,f=Math.max;r({target:"Array",proto:!0,forced:!d||!b},{slice:function(t,e){var a,r,c,m=s(this),p=l(m.length),d=o(t,p),b=o(void 0===e?p:e,p);if(n(m)&&(a=m.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?i(a)&&(a=a[g],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return v.call(m,d,b);for(r=new(void 0===a?Array:a)(f(b-d,0)),c=0;d<b;d++,c++)d in m&&u(r,c,m[d]);return r.length=c,r}})},fe66:function(t,e,a){"use strict";var r=a("a019"),i=a.n(r);i.a}}]);
//# sourceMappingURL=chunk-461c3a3d.ec6f3f6d.js.map